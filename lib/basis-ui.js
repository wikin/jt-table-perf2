(function(){var ta={"0.js":"basis.ui","1.js":"basis.l10n","2.js":"basis.event","3.js":"basis.data","4.js":"basis.dom.wrapper","5.js":"basis.template","6.js":"basis.template.html","7.js":"basis.dom.event","8.js":"basis.template.htmlfgen"},sa={"0.js":function(d,Y,a,t,ca,la,ma,na){function F(a){if(a=a.nodes)for(var q=a.length-1,b;b=a[q];q--)b.parentNode.insertBefore(b,b.nextSibling)}a.require("./1.js");a.require("./3.js");a.require("./4.js");a.require("./5.js");a.require("./6.js");d=this.path;var V=t.document;t=a.Class;var da=a.event.create,w=a.template.html.Template,Z=a.template.TemplateSwitcher;ca=a.dom.wrapper.Node;na=a.dom.wrapper.PartitionNode;var U=a.dom.wrapper.GroupingNode,T=1,ea=function(){var a={},q=/^([a-z_][a-z0-9_]*):(.*)/i;return{add:function(b,q){a[b]||(a[b]=q)},process:function(b,l){var g,d=l.match(q);d&&(g=a[d[1]],l=d[2]||b);return g?g(l):l}}}();ea.add("data",function(a){return{events:"update",getter:"data."+a}});ea.add("satellite",function(a){return{events:"satelliteChanged",getter:function(q){return q.satellite[a]?q.satellite[a].element:null}}});var x=t.customExtendProperty({state:{events:"stateChanged",getter:function(a){return String(a.state)}},childNodesState:{events:"childNodesStateChanged",getter:function(a){return String(a.childNodesState)}},childCount:{events:"childNodesModified",getter:function(a){return a.childNodes?a.childNodes.length:0}},hasChildren:{events:"childNodesModified",getter:function(a){return!!a.firstChild}},empty:{events:"childNodesModified",getter:function(a){return!a.firstChild}}},function(J,q){J.bindingId=T++;for(var b in q){var l=null,g=q[b];A&&g instanceof A||a.resource.isResource(g)?l={events:"satelliteChanged",getter:function(a,h){var b="function"==typeof h?h:null,q=function(l){q=!1;if(b){h=b();if(!1==h instanceof A)return;b=null}l.setSatellite(a,h)};return function(h){q&&q(h);return b||(h.satellite[a]?h.satellite[a].element:null)}}(b,g)}:g&&("string"==typeof g?g=ea.process(b,g):g.bindingBridge&&(g=a.fn.$const(g)),l="object"!=typeof g?{getter:"function"==typeof g?g:a.getter(g)}:Array.isArray(g)?{events:g[0],getter:a.getter(g[1])}:{events:g.events,getter:a.getter(g.getter)});J[b]=l}}),fa={attach:function(a,q,b){a.addHandler(q,b)},detach:function(a,q,b){a.removeHandler(q,b)}},X=t.extensibleProperty({select:function(a){this.isDisabled()||(this.contextSelection&&this.contextSelection.multiple?this.select(a.ctrlKey||a.metaKey):this.select())}}),W={"*":function(a){var q=this.templateSwitcher_;q&&q.ruleEvents&&q.ruleEvents[a.type]&&this.setTemplate(q.resolve(this))}},ga=new w("<div/>"),I=[],aa;la=function(J){return{template:ga,emit_templateChanged:da("templateChanged"),templateSwitcher_:null,binding:x,action:X,tmpl:null,element:null,childNodesElement:null,emit_update:function(a){this.templateUpdate(this.tmpl,"update",a);J.emit_update.call(this,a)},init:function(){this.element=this.childNodesElement=I.pop()||V.createDocumentFragment();J.init.call(this)},postInit:function(){J.postInit.call(this);var a=this.template;if(a){var b=this.element;this.template=null;this.setTemplate(a);I.push(b);this.container&&(this.container.appendChild(this.element),this.container=null)}},templateSync:function(){var a=this.element,b=this.template.createInstance(this,this.templateAction,this.templateSync,this.binding,fa);b.childNodesHere&&(b.childNodesElement=b.childNodesHere.parentNode,b.childNodesElement.insertPoint=b.childNodesHere);this.tmpl=b;this.element=b.element;this.childNodesElement=b.childNodesElement||b.element;1!=this.childNodesElement.nodeType&&(this.childNodesElement=V.createDocumentFragment());if(this.grouping){this.grouping.syncDomRefs();for(var l=this;l.grouping;)l=l.grouping;for(var g=l.lastChild;g;g=g.previousSibling)g instanceof L?l.insertBefore(g,g.nextSibling):F(g);F(l.nullGroup)}else for(l=this.lastChild;l;l=l.previousSibling)this.insertBefore(l,l.nextSibling);this instanceof L&&F(this);this.content&&(b.content||b.element).appendChild(this.content.nodeType?this.content:V.createTextNode(this.content));this.templateUpdate(this.tmpl);a&&a!==this.element&&11!=a.nodeType&&(b=a&&a.parentNode)&&(this.owner&&this.owner.tmpl&&this.owner.tmpl.set(a,this.element),this.element.parentNode!==b&&b.replaceChild(this.element,a));this.emit_templateChanged()},setTemplate:function(a){var b=this.templateSwitcher_,l;a instanceof Z&&(l=a,a=l.resolve(this));!1==a instanceof w&&(a=null);a&&(l&&(this.templateSwitcher_=l,b||this.addHandler(W,this)),b&&b.resolve(this)!==a&&(this.templateSwitcher_=null,this.removeHandler(W,this)),this.template!==a&&(this.template=a,this.templateSync()))},updateBind:function(a){var b=this.binding[a];(b=b&&b.getter)&&this.tmpl&&this.tmpl.set(a,b(this))},templateAction:function(a,b){var l=this.action[a];l&&l.call(this,b)},templateUpdate:function(a,b,l){},focus:function(q){var b=this.tmpl?this.tmpl.focus||this.element:null;b&&(aa&&(aa=a.clearImmediate(aa)),aa=a.setImmediate(function(){try{b.focus(),q&&b.select()}catch(a){}}))},blur:function(){var a=this.tmpl?this.tmpl.focus||this.element:null;if(a)try{a.blur()}catch(b){}},destroy:function(){var a=this.template,b=this.element;this.templateSwitcher_&&(this.templateSwitcher_=null,this.removeHandler(W,this));a.clearInstance(this.tmpl);J.destroy.call(this);this.childNodesElement=this.element=this.tmpl=null;(a=b&&b.parentNode)&&1==a.nodeType&&a.removeChild(b)}}};ma=function(a){return{insertBefore:function(q,b){q=a.insertBefore.call(this,q,b);var l=(q.groupNode||this).childNodesElement||this.childNodesElement,g=q.nextSibling,d=q.element,g=(g&&g.element.parentNode==l?g.element:null)||l.insertPoint||null;d.parentNode===l&&d.nextSibling===g||l.insertBefore(d,g);return q},removeChild:function(d){a.removeChild.call(this,d);var b=d.element,l=b.parentNode;l&&l.removeChild(b);return d},clear:function(d){if(d)for(var b=this.firstChild;b;){var l=b.element,g=l.parentNode;g&&g.removeChild(l);b=b.nextSibling}a.clear.call(this,d)},setChildNodes:function(d,b){var l=V.createDocumentFragment(),g=this.grouping||this,A=g.childNodesElement;g.childNodesElement=l;a.setChildNodes.call(this,d,b);A.insertBefore(l,A.insertPoint||null);g.childNodesElement=A}}};var L=t(na,la,{className:d+".PartitionNode",binding:{title:"data:"}});na=t(U,ma,{className:d+".GroupingNode",childClass:L,groupingClass:t.SELF,element:null,childNodesElement:null,emit_ownerChanged:function(a){this.syncDomRefs();U.prototype.emit_ownerChanged.call(this,a)},init:function(){this.element=this.childNodesElement=V.createDocumentFragment();U.prototype.init.call(this)},syncDomRefs:function(){var a=this,d=this.owner,b=null;d&&(b=d.tmpl&&d.tmpl.groupsElement||d.childNodesElement);do a.element=a.childNodesElement=b;while(a=a.grouping)},destroy:function(){U.prototype.destroy.call(this);this.childNodesElement=this.element=null}});var A=t(ca,la,ma,{className:d+".Node",binding:{selected:{events:"select unselect",getter:function(a){return a.selected}},unselected:{events:"select unselect",getter:function(a){return!a.selected}},disabled:{events:"disable enable",getter:function(a){return a.disabled||a.contextDisabled}},enabled:{events:"disable enable",getter:function(a){return!(a.disabled||a.contextDisabled)}}},childClass:t.SELF,childFactory:function(a){return new this.childClass(a)},groupingClass:na});d=A.subclass({className:d+".ShadowNodeList",emit_ownerChanged:function(a){A.prototype.emit_ownerChanged.call(this,a);this.setDataSource(this.owner&&this.owner.getChildNodesDataset())},getChildNodesElement:function(a){return a.childNodesElement},listen:{owner:{templateChanged:function(){this.childNodes.forEach(function(a){this.appendChild(a.element)},this.getChildNodesElement(this.owner)||this.owner.element)}}},childClass:{className:d+".ShadowNode",getElement:function(a){return a.element},templateSync:function(){A.prototype.templateSync.call(this);var a=this.getElement(this.delegate);a&&(a.basisTemplateId=this.delegate.element.basisTemplateId,this.element=a)},listen:{delegate:{templateChanged:function(){var a=this.element,d=a.parentNode,b=this.getElement(this.delegate);b&&(b.basisTemplateId=this.delegate.element.basisTemplateId);this.element=b||this.tmpl.element;d&&d.replaceChild(this.element,a)}}}}});Y.exports={BINDING_PRESET:ea,Node:A,PartitionNode:L,GroupingNode:na,ShadowNodeList:d,ShadowNode:d.prototype.childClass}},"1.js":function(d,Y,a,t,ca,la,ma,na){function F(a){var b=[],d;for(d in a)ea.call(a,d)&&b.push(d);return b}function V(a,b,d,l){var s=a.cultureValues[b];l=l?l+".":"";for(var g in d)if(ea.call(d,g)){var A=l+g,q=d[g];(s[A]=q)&&("object"==typeof q||Array.isArray(q))&&V(a,b,q,A)}}function da(h){var b;if("string"==typeof h){var d=a.path.extname(h);".l10n"!=d&&(h=a.path.dirname(h)+"/"+a.path.basename(h,d)+".l10n");h=a.resource(h)}a.resource.isResource(h)&&(b=I[h.url]);return b||new L(h)}function w(a,b){a&&!q[a]&&(q[a]=new G(a,b));return q[a||J]}function Z(h){if(h&&J!=h&&-1!=A.indexOf(h)){J=h;for(var b=0,d;d=ga[b];b++)d.syncValues();a.Token.prototype.set.call(w,h)}}function U(h){"string"==typeof h&&(h=h.trim().split(" "));if(h.length){var d={},l,g;b={};for(var s=0,q;l=h[s];s++)l=l.split("/"),2<l.length&&(l=l.slice(0,2)),q=l[0],g||(g=q),d[q]=w(q),b[q]=l;for(q in b)b[q]=a.array.flatten(b[q].map(function(a){return b[a]})).concat(g).filter(function(a,h,b){return!h||-1==b.lastIndexOf(a,h-1)});A=a.object.keys(d);!1==J in d&&Z(g)}}a.require("./2.js");d=this.path;t=a.Class;var T=a.event.Emitter,ea=Object.prototype.hasOwnProperty;a.resource.extensions[".l10n"]=function(h,b){return da(b).update(a.resource.extensions[".json"](h,b))};var x=[],fa={},X=t(a.Token,{className:d+".ComputeToken",init:function(h,b){b.computeTokens[this.basisObjectId]=this;this.token=b;this.get=b.computeGetMethod;a.Token.prototype.init.call(this,h)},toString:function(){return this.get()},destroy:function(){delete this.token.computeTokens[this.basisObjectId];this.token=null;a.Token.prototype.destroy.call(this)}}),W=t(a.Token,{className:d+".Token",index:NaN,dictionary:null,name:"",type:"default",computeTokens:null,init:function(h,b,d,l){a.Token.prototype.init.call(this,l);this.index=x.push(this)-1;this.name=b;this.dictionary=h;this.computeTokens={};d?this.setType(d):this.apply()},toString:function(){return this.get()},computeGetMethod:function(){},apply:function(){var h={},b=this.computeTokens,d="plural"==this.type?function(){return h[q[J].plural(this.value)]}:function(){return h[this.value]};this.computeGetMethod=d;if("plural"==this.type&&Array.isArray(this.value)||"default"==this.type&&"object"==typeof this.value)h=a.object.slice(this.value,F(this.value));for(var l in b){var g=b[l],A=g.get(),x=d.call(g);g.get=d;A!==x&&g.apply()}a.Token.prototype.apply.call(this)},setType:function(h){"plural"==h||a.l10n.enableMarkup&&"markup"==h||(h="default");this.type!=h&&(this.type=h,this.apply())},compute:function(h,b){1==arguments.length&&(b=h,h="");b=a.getter(b);h=String(h).trim().split(/\s+|\s*,\s*/).sort();var d=h.concat(this.basisObjectId,b.basisGetterId_).join("_");if(fa[d])return fa[d];for(var l=this,g={},q=function(a){this.set(b(a))},A={destroy:function(a){delete g[a.basisObjectId];this.destroy()}},x=0,L;L=h[x];x++)"destroy"!=L&&(A[L]=q);return fa[d]=function(a){if(!1==a instanceof T)throw 3;var h=a.basisObjectId,e=g[h];e||(e=g[h]=new X(b(a),l),a.addHandler(A,e));return e}},computeToken:function(a){return new X(a,this)},token:function(a){"plural"==this.type&&(a=q[J].plural(a));if(this.dictionary)return this.dictionary.token(this.name+"."+a)},destroy:function(){for(var h in this.computeTokens)this.computeTokens[h].destroy();this.value=this.computeTokens=null;a.Token.prototype.destroy.call(this)}}),ga=[],I={},aa=new a.Token,L=t(null,{className:d+".Dictionary",tokens:null,types:null,cultureValues:null,index:NaN,resource:null,init:function(h){this.tokens={};this.types={};this.cultureValues={};this.index=ga.push(this)-
1;a.resource.isResource(h)?(this.resource=h,I[h.url]||(I[h.url]=this,aa.set(h.url)),h.fetch()):this.update(h||{})},update:function(a){a||(a={});this.cultureValues={};for(var b in a)/^_|_$/.test(b)||(this.cultureValues[b]={},V(this,b,a[b]));this.types=a._meta&&a._meta.type||{};for(var d in this.tokens)this.tokens[d].setType(this.types[d]);this.syncValues();return this},syncValues:function(){for(var a in this.tokens)this.tokens[a].set(this.getValue(a))},getValue:function(a){for(var d=b[J]||[],l=0,g;g=
d[l];l++)if((g=this.cultureValues[g])&&a in g)return g[a]},getCultureValue:function(a,b){return this.cultureValues[a]&&this.cultureValues[a][b]},token:function(a){var b=this.tokens[a];b||(b=this.tokens[a]=new W(this,a,this.types[a],this.getValue(a)));return b},destroy:function(){this.cultureValues=this.tokens=null;a.array.remove(ga,this);this.resource&&(delete I[this.resource.url],this.resource=null)}}),A=[],J=null,q={},b={},l={},g=[[1,function(a){return 0}],[2,function(a){return 1==a||1==a%10?0:1}],[2,function(a){return 0==a?0:1}],[2,function(a){return 1==a?0:1}],[2,function(a){return 0==a||1==a?0:1}],[2,function(a){return 1!=a%10||11==a%100?1:0}],[3,function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:0!=a?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 0==a?0:1==a?1:2}],[3,function(a){return 1==a?0:0==a||0<a%100&&20>a%100?1:2}],[3,function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a?0:2<=a&&4>=a?1:2}],[4,function(a){return 1==a?0:2==a?1:8!=a&&11!=a?2:3}],[4,function(a){return 1==a?0:2==a?1:3==a?2:3}],[4,function(a){return 1==a%100?1:2==a%100?2:3==a%100||4==a%100?3:0}],[4,function(a){return 1==a?0:0==a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3}],[4,function(a){return 1==a||11==a?0:2==a||12==a?1:2<a&&20>a?2:3}],[5,function(a){return 1==a?0:2==a?1:7>a?2:11>a?3:4}],[6,function(a){return 0==a?0:1==a?1:2==a?2:3<=a%100&&10>=a%100?3:11<=a%100?4:5}]];"ay bo cgg dz fa id ja jbo ka kk km ko ky lo ms my sah su th tt ug vi wo zh;mk;jv;af an ast az bg bn brx ca da de doi el en eo es es-AR et eu ff fi fo fur fy gl gu ha he hi hne hu hy ia it kn ku lb mai ml mn mni mr nah nap nb ne nl nn no nso or pa pap pms ps pt rm rw sat sco sd se si so son sq sv sw ta te tk ur yo;ach ak am arn br fil fr gun ln mfe mg mi oc pt-BR tg ti tr uz wa zh;is;csb;lv;lt;be bs hr ru sr uk;mnk;ro;pl;cs sk;cy;kw;sl;mt;gd;ga;ar".split(";").forEach(function(a,b){a.split(" ").forEach(function(a){l[a]=this},g[b])});var G=a.Class(null,{className:d+".Culture",name:"",pluralForm:null,init:function(a,b){this.name=a;q[a]||(q[a]=this);this.pluralForm=b||l[a]||l[a.split("-")[0]]||g[0]},plural:function(a){return Number(this.pluralForm[1](Math.abs(parseInt(a,10))))}});a.object.extend(w,new a.Token);w.set=Z;U("en-US");Z("en-US");Y.exports={ComputeToken:X,Token:W,token:function(b){if("#"==b.charAt(0))return x[parseInt(b.substr(1),36)];if(b=b.match(/^(.+?)@(.+)$/))return da(a.path.resolve(b[2])).token(b[1])},Dictionary:L,dictionary:da,getDictionaries:function(){return ga.slice(0)},addCreateDictionaryHandler:aa.attach.bind(aa),removeCreateDictionaryHandler:aa.detach.bind(aa),Culture:G,culture:w,getCulture:function(){return J},setCulture:Z,getCultureList:function(){return A.slice(0)},setCultureList:U,pluralForms:g,onCultureChange:function(a,b,d){w.attach(a,b);d&&a.call(b,J)}}},"2.js":function(d,Y,a,t,ca,la,ma,na){function F(a){var d=da[a];d||(d=function(){for(var d=this,t,x;d=d.handler;){x=d.callbacks[a];if("function"==typeof x){if(!t){t=[this];for(var w=0;w<arguments.length;w++)t.push(arguments[w])}x.apply(d.context||this,t)}x=d.callbacks["*"];if("function"==typeof x){if(!t)for(t=[this],w=0;w<arguments.length;w++)t.push(arguments[w]);x.call(d.context||this,{sender:this,type:a,args:t})}}},da[a]=d);return d}d=a.Class;var V={},da={},w=function(){};d=d(null,{className:this.path+".Emitter",extendConstructor_:!0,handler:null,emit_destroy:F("destroy"),listen:d.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(a,d){this.handler={callbacks:a,context:d||this,handler:this.handler}},removeHandler:function(a,d){var t=this,w;for(d=d||this;w=t,t=t.handler;)if(t.callbacks===a&&t.context===d){t.callbacks=V;w.handler=t.handler;break}},destroy:function(){this.destroy=w;this.emit_destroy();this.handler=null}});Y.exports={create:F,createHandler:function(a,d){var t={events:[]};if(a){a=String(a).trim().split(/\s+|\s*,\s*/).sort();for(var t={events:a},w=0,x;x=a[w];w++)"destroy"!=x&&(t[x]=d)}return t},events:da,Emitter:d}},"3.js":function(d,Y,a,t,ca,la,ma,na){function F(a,f){return function(){a.apply(this,arguments);f.apply(this,arguments)}}function V(a){var f=l[a];if(!f)for(var c=[],b={},n=1,f=l[a]={actions:c,handler:b};a;){if(a&1){var v=J[n];c.push(v.action);for(var u in v.handler)b[u]=b[u]?F(b[u],v.handler[u]):v.handler[u]}n<<=1;a>>=1}return f}function da(a,f){for(;f&&f!==a&&f!==f.delegate;)f=f.delegate;return f===a}function w(a,f,c){var b=a.delegate;b&&(a.root=b.root,a.target=b.target,a.data=b.data,a.state=b.state);if(a.root!==f){if(b=a.listen.root)f&&f!==a&&f.removeHandler(b,a),a.root&&a.root!==a&&a.root.addHandler(b,a);a.emit_rootChanged(f)}if(a.target!==c){if(b=a.listen.target)c&&c!==a&&c.removeHandler(b,a),a.target&&a.target!==a&&a.target.addHandler(b,a);a.emit_targetChanged(c)}for(a=a.delegates_;a;)a.delegate&&w(a.delegate,f,c),a=a.next}function Z(a,f){var c={},b;a&&a.length&&(b=c.inserted=a);f&&f.length&&(b=c.deleted=f);if(b)return c}function U(a,f){if(a&&a.itemCount){if(f&&f.itemCount){var c=[],b=[],n;for(n in a.items_){var v=a.items_[n];!1==v.basisObjectId in f.items_&&b.push(v)}for(n in f.items_)v=f.items_[n],!1==v.basisObjectId in a.items_&&c.push(v);return Z(c,b)}if(a.itemCount)return{deleted:a.getItems()}}else if(f&&f.itemCount)return{inserted:f.getItems()}}function T(M,f,c,b){var n=M[b]||null,v=null;"function"==typeof c&&(c=c.call(M,M));c instanceof ka&&(v=new e(M,f,c,B),c=c.dataset);c instanceof a.Token&&(c=s.from(c));c instanceof s&&(v=new e(M,f,c,H),c=T(v,v.proxy,c.value,"adapter_"));!1==c instanceof ia&&(c=null);b&&n!==v&&(n&&(n.source.removeHandler(n.handler,n),n.adapter_&&T(n,null,null,"adapter_")),v&&v.source.addHandler(v.handler,v),M[b]=v);return c}function ea(a){return Array.isArray(a)?a.map(function(a){return{data:a}}):{data:a}}function x(a){a&&a.constructor===Object||(a={value:a});return new R({data:a})}a.require("./2.js");d=this.path;t=a.Class;var fa=a.cleaner,X=a.object.values;ma=a.fn.$self;var W=a.event.Emitter;ca=a.event.create;var ga=a.event.events,I={},aa=[],L={},A={priority:[],values:{},add:function(a,f){var c=a.toLowerCase();A[a]=c;L[c]=a;this.values[c]=a;f=f?this.priority.indexOf(f):-1;-1==f?this.priority.push(c):this.priority.splice(f,0,c)},getList:function(){return X(L)}};A.add("READY");A.add("DEPRECATED");A.add("UNDEFINED");A.add("ERROR");A.add("PROCESSING");var J={},q=1,b={NONE:0,ALL:0,link:function(a,f,c){a+=f.basisObjectId;var b=c.subscribers_;b||(b=c.subscribers_={});b[a]||(b[a]=f,1==(c.subscriberCount+=1)&&c.emit_subscribersChanged(1))},unlink:function(a,f,c){a+=f.basisObjectId;(f=c.subscribers_)&&f[a]&&(delete f[a],0==(c.subscriberCount-=1)&&(c.emit_subscribersChanged(-1),c.subscribers_=null))},add:function(a,f,c){J[q]={handler:f,action:c};b[a]=q;b.ALL|=q;q<<=1},addProperty:function(a,f){var c={};c[f||a+"Changed"]=function(c,n){n&&b.unlink(a,c,n);c[a]&&b.link(a,c,c[a])};this.add(a.toUpperCase(),c,function(c,n){n[a]&&c(a,n,n[a])})}},l={};b.addProperty("delegate");b.addProperty("target");b.addProperty("dataset");var g=t(W,{className:d+".AbstractData",state:A.UNDEFINED,emit_stateChanged:ca("stateChanged","oldState"),active:!1,emit_activeChanged:ca("activeChanged"),subscribeTo:b.NONE,subscriberCount:0,subscribers_:null,emit_subscribersChanged:ca("subscribersChanged","delta"),syncEvents:t.oneFunctionProperty(function(){this.isSyncRequired()&&this.syncAction()},{stateChanged:!0,subscribersChanged:!0}),syncAction:null,init:function(){W.prototype.init.call(this);this.active&&this.addHandler(V(this.subscribeTo).handler);var a=this.syncAction;a&&(this.syncAction=null,this.setSyncAction(a))},setState:function(a,f){var c=String(a);if(!L[c])throw 4;if(this.state!=c||this.state.data!=f){var b=this.state;this.state=Object(c);this.state.data=f;this.emit_stateChanged(b);return!0}return!1},deprecate:function(){this.state!=A.PROCESSING&&this.setState(A.DEPRECATED)},setActive:function(a){a=!!a;if(this.active!=a){this.active=a;this.emit_activeChanged();if(a){a=V(this.subscribeTo);for(var f=0,c;c=a.actions[f];f++)c(b.link,this);this.addHandler(a.handler)}else{a=V(this.subscribeTo);for(f=0;c=a.actions[f++];)c(b.unlink,this);this.removeHandler(a.handler)}return!0}return!1},setSubscription:function(a){var f=this.subscribeTo,c=a&b.ALL;if(a=f^c){this.subscribeTo=c;if(this.active){var e=V(f),c=V(c);this.removeHandler(e.handler);this.addHandler(c.handler);for(e=1;a;)a&1&&(c=J[e],f&e?c.action(b.unlink,this):c.action(b.link,this)),e<<=1,a>>=1}return!0}return!1},isSyncRequired:function(){return 0<this.subscriberCount&&(this.state==A.UNDEFINED||this.state==A.DEPRECATED)},setSyncAction:function(a){var f=this.syncAction;"function"!=typeof a&&(a=null);(this.syncAction=a)?(f||this.addHandler(this.syncEvents),this.isSyncRequired()&&this.syncAction()):f&&this.removeHandler(this.syncEvents)},destroy:function(){W.prototype.destroy.call(this);if(this.active)for(var a=V(this.subscribeTo),f=0,c;c=a.actions[f];f++)c(b.unlink,this);this.state=A.UNDEFINED}}),G={},h={},N=function(a){this.set(this.fn(a))},$={destroy:function(a){this.value.unlink(a,this.fn)}},E={destroy:function(a){this.set(null)}},s=t(g,{className:d+".Value",emit_change:ca("change","oldValue")&&function(a){ga.change.call(this,a);for(var f=this;f=f.links_;)f.fn.call(f.context,this.value,a)},value:null,initValue:null,proxy:null,locked:!1,lockedValue_:null,links_:null,setNullOnEmitterDestroy:!0,bindingBridge:{attach:function(a,f,c){a.link(c,f,!0)},detach:function(a,f,c){a.unlink(c,f)},get:function(a){return a.value}},init:function(){g.prototype.init.call(this);this.proxy&&(this.value=this.proxy(this.value));this.setNullOnEmitterDestroy&&this.value instanceof W&&this.value.addHandler(E,this);this.initValue=this.value},set:function(a){var f=this.value;a=this.proxy?this.proxy(a):a;var c=a!==f;c&&(this.setNullOnEmitterDestroy&&(f instanceof W&&f.removeHandler(E,this),a instanceof W&&a.addHandler(E,this)),this.value=a,this.locked||this.emit_change(f));return c},reset:function(){this.set(this.initValue)},lock:function(){this.locked||(this.locked=!0,this.lockedValue_=this.value)},unlock:function(){if(this.locked){var a=this.lockedValue_;this.lockedValue_=null;this.locked=!1;this.value!==a&&this.emit_change(a)}},compute:function(b,f){f||(f=b,b=null);var c=this,e=a.event.createHandler(b,function(a){this.set(f(a,c.value))}),n=e.events.concat(String(f),this.basisObjectId).join("_"),v=G[n];if(!v){var u={};e.destroy=function(a){delete u[a.basisObjectId];this.destroy()};this.addHandler({change:function(){for(var a in u){var n=u[a];n.token.set(f(n.object,this.value))}},destroy:function(){for(var a in u){var n=u[a];n.object.removeHandler(e,n.token);n.token.destroy()}c=u=null}});v=G[n]=function(n){var v=n.basisObjectId,b=u[v];b||(b=new a.Token(f(n,c.value)),n.addHandler(e,b),b=u[v]={token:b,object:n});return b.token};v.deferred=function(){return function(a){return v(a).deferred()}}}return v},as:function(b,f){if(this.links_)for(var c=this;c=c.links_;)if(c.context instanceof a.Token&&c.context.fn==String(b))return f?c.context.deferred():c.context;c=new a.Token;c.fn=b;this.link(c,N);return f?c.deferred():c},deferred:function(a){return this.as(a,!0)},link:function(a,b,c){if("function"!=typeof b){var e=String(b);(b=h[e])||(b=h[e]=function(a){this[e]=a})}this.links_={value:this,context:a,fn:b,links_:this.links_};a instanceof W&&a.addHandler($,this.links_);c||b.call(a,this.value);return a},unlink:function(b,f){for(var c=this,e;e=c,c=c.links_;)c.context!==b||f&&c.fn!==f||(c.fn=a.fn.$undef,e.links_=c.links_,c.context instanceof W&&c.context.removeHandler($,c))},destroy:function(){g.prototype.destroy.call(this);this.setNullOnEmitterDestroy&&this.value instanceof W&&this.value.removeHandler(E,this);for(var a=this;a=a.links_;)a.context instanceof W&&a.context.removeHandler($,a);this.links_=this.lockedValue_=this.value=this.initValue=this.proxy=null}}),S={};s.from=function(b,f,c){var e;if(!b)return null;if(b instanceof W){c||(c=f,f=null);f=a.event.createHandler(f,function(a){this.set(c(a))});var n=f.events.concat(String(c),b.basisObjectId).join("_");e=S[n];e||(c=a.getter(c),e=S[n]=new s({value:c(b)}),f.destroy=function(a){delete S[n];this.destroy()},b.addHandler(f,e))}e||(n=b.basisObjectId,f=b.bindingBridge,n&&f&&(e=S[n],e||(e=S[n]=new s({value:f.get(b)}),f.attach(b,e.set,e))));if(!e)throw 5;return e};s.factory=function(a,b){return function(c){return s.from(c,a,b)}};var R=t(g,{className:d+".Object",subscribeTo:b.DELEGATE+b.TARGET,data:null,emit_update:ca("update","delta")&&function(a){var b=this.delegates_;for(ga.update.call(this,a);b;)b.delegate&&b.delegate.emit_update(a),b=b.next},emit_stateChanged:function(a){var b=this.delegates_;for(g.prototype.emit_stateChanged.call(this,a);b;)b.delegate&&(b.delegate.state=this.state,b.delegate.emit_stateChanged(a)),b=b.next},delegate:null,delegates_:null,emit_delegateChanged:ca("delegateChanged","oldDelegate"),target:null,emit_targetChanged:ca("targetChanged","oldTarget"),root:null,emit_rootChanged:ca("rootChanged","oldRoot"),init:function(){this.root=this;g.prototype.init.call(this);var a=this.delegate;a?(this.target=this.delegate=null,this.data=a.data,this.state=a.state,this.setDelegate(a)):(this.data||(this.data={}),null!==this.target&&(this.target=this))},setDelegate:function(a){if(a&&a instanceof R){if(a.delegate&&da(this,a))return!1}else a=null;if(this.delegate!==a){var b=this.state,c=this.data,e=this.delegate,n=this.target,v=this.root,u={},K=!1,qa=this.listen.delegate;if(e){qa&&e.removeHandler(qa,this);for(var p=e.delegates_;p;){if(p.delegate===this){p.delegate=null;e===e?e.delegates_=p.next:e.next=p.next;break}p=p.next}}if(a){this.delegate=a;a.delegates_={delegate:this,next:a.delegates_};for(var k in a.data)!1===k in c&&(K=!0,u[k]=void 0);for(k in c)c[k]!==a.data[k]&&(K=!0,u[k]=c[k]);qa&&a.addHandler(qa,this)}else for(k in this.target=this.delegate=null,this.root=this,this.data={},c)this.data[k]=c[k];w(this,v,n);K&&this.emit_update(u);b===this.state||String(b)==this.state&&b.data===this.state.data||this.emit_stateChanged(b);this.emit_delegateChanged(e);return!0}return!1},setState:function(a,b){return this.delegate?this.root.setState(a,b):g.prototype.setState.call(this,a,b)},update:function(a){if(this.delegate)return this.root.update(a);if(a){var b={},c=!1,e;for(e in a)this.data[e]!==a[e]&&(c=!0,b[e]=this.data[e],this.data[e]=a[e]);if(c)return this.emit_update(b),b}return!1},destroy:function(){g.prototype.destroy.call(this);var a=this.delegates_;for(this.delegates_=null;a;)a.delegate.setDelegate(),a=a.next;this.delegate&&this.setDelegate();this.data=I;this.target=this.root=null}});la=t(R,{className:d+".Slot"});var ba={destroy:function(){delete this.map[this.itemId]}};ma=t(null,{className:d+".KeyObjectMap",itemClass:R,keyGetter:ma,map_:null,extendConstructor_:!0,init:function(){this.map_={};fa.add(this)},resolve:function(a){return this.get(this.keyGetter(a),a)},create:function(a,b){var c={};a instanceof R?c.delegate=a:c.data={id:a,title:a};return new this.itemClass(c)},get:function(a,b){var c=a instanceof R?a.basisObjectId:a,e=this.map_[c];!e&&b&&(e=this.map_[c]=this.create(a,b),e.addHandler(ba,{map:this.map_,itemId:c}));return e},destroy:function(){fa.remove(this);for(var a=X(this.map_),b=0,c;c=a[b++];)c.destroy()}});var ka=t(R,{className:d+".DatasetWrapper",subscribeTo:R.prototype.subscribeTo+b.DATASET,listen:{dataset:{itemsChanged:function(a,b){this.itemCount=a.itemCount;this.emit_itemsChanged(b)},destroy:function(){this.setDataset()}}},dataset:null,datasetAdapter_:null,emit_datasetChanged:ca("datasetChanged","oldDataset"),emit_itemsChanged:ca("itemsChanged","delta"),init:function(){R.prototype.init.call(this);var a=this.dataset;a&&(this.dataset=null,this.setDataset(a))},setDataset:function(a){a=T(this,this.setDataset,a,"datasetAdapter_");if(this.dataset!==a){var b=this.listen.dataset,c=this.dataset,e;b&&(c&&c.removeHandler(b,this),a&&a.addHandler(b,this));this.itemCount=a?a.itemCount:0;(e=U(c,a))&&this.emit_itemsChanged(e);this.dataset=a;this.emit_datasetChanged(c)}},has:function(a){return this.dataset?this.dataset.has(a):null},getItems:function(){return this.dataset?this.dataset.getItems():[]},pick:function(){return this.dataset?this.dataset.pick():null},top:function(a){return this.dataset?this.dataset.top(a):[]},forEach:function(a){if(this.dataset)return this.dataset.forEach(a)},destroy:function(){(this.dataset||this.datasetAdapter_)&&this.setDataset();R.prototype.destroy.call(this)}}),ia=t(g,{className:d+".AbstractDataset",itemCount:0,items_:null,members_:null,cache_:null,emit_itemsChanged:ca("itemsChanged","delta")&&function(a){var b,c=0,e=0,n;if(b=a.inserted)for(;n=b[c];)this.items_[n.basisObjectId]=n,c++;if(b=a.deleted)for(;n=b[e];)delete this.items_[n.basisObjectId],e++;this.itemCount+=c-e;this.cache_=c==this.itemCount?a.inserted:null;ga.itemsChanged.call(this,a)},init:function(){g.prototype.init.call(this);this.members_={};this.items_={}},has:function(a){return!(!a||!this.items_[a.basisObjectId])},getItems:function(){this.cache_||(this.cache_=X(this.items_));return this.cache_},pick:function(){for(var a in this.items_)return this.items_[a];return null},top:function(a){var b=[];if(a)for(var c in this.items_)if(b.push(this.items_[c])>=a)break;return b},forEach:function(a){for(var b=this.getItems(),c=0;c<b.length;c++)a(b[c])},clear:function(){},destroy:function(){this.clear();g.prototype.destroy.call(this);this.cache_=aa;this.itemCount=0;this.items_=this.members_=null}}),Q=t(ia,{className:d+".Dataset",listen:{item:{destroy:function(a){this.remove([a])}}},init:function(){ia.prototype.init.call(this);var a=this.items;a&&(this.items=null,this.set(a))},add:function(a){var b=this.members_,c=this.listen.item,e=[],n;a&&!Array.isArray(a)&&(a=[a]);for(var v=0;v<a.length;v++){var u=a[v];if(u instanceof R){var K=u.basisObjectId;b[K]||(b[K]=u,c&&u.addHandler(c,this),e.push(u))}}e.length&&this.emit_itemsChanged(n={inserted:e});return n},remove:function(a){var b=this.members_,c=this.listen.item,e=[],n;a&&!Array.isArray(a)&&(a=[a]);for(var v=0;v<a.length;v++){var u=a[v];if(u instanceof R){var K=u.basisObjectId;b[K]&&(c&&u.removeHandler(c,this),delete b[K],e.push(u))}}e.length&&this.emit_itemsChanged(n={deleted:e});return n},set:function(a){if(!this.itemCount)return this.add(a);if(!a||!a.length)return this.clear();for(var b=this.members_,c=this.listen.item,e={},n=[],v=[],u,K,qa,p=0;p<a.length;p++)u=a[p],u instanceof R&&(K=u.basisObjectId,e[K]=u,b[K]||(b[K]=u,c&&u.addHandler(c,this),v.push(u)));for(K in b)e[K]||(u=b[K],c&&u.removeHandler(c,this),delete b[K],n.push(u));(qa=Z(v,n))&&this.emit_itemsChanged(qa);return qa},sync:function(a){a=this.set(a)||{};var b=a.deleted;Q.setAccumulateState(!0);if(b)for(var c=0,e;e=b[c];c++)e.destroy();Q.setAccumulateState(!1);return a.inserted},clear:function(){var a=this.getItems(),b=this.listen.item,c;if(a.length){if(b)for(c=0;c<a.length;c++)a[c].removeHandler(b,this);this.emit_itemsChanged(c={deleted:a});this.members_={}}return c}}),e=function(a,b,c,e){this.context=a;this.fn=b;this.source=c;this.handler=e};e.prototype.adapter_=null;e.prototype.proxy=function(){this.fn.call(this.context,this.source)};var B={datasetChanged:function(a){this.fn.call(this.context,a)},destroy:function(){this.fn.call(this.context,null)}},H={change:function(a){this.fn.call(this.context,a)},destroy:function(){this.fn.call(this.context,null)}};Q.setAccumulateState=function(){function b(){var a=K;K={};for(var v in a){var k=a[v];n.call(k.dataset,k)}}function e(a){var b=this.basisObjectId,k=a.inserted,m=a.deleted,v=K[b];if(k&&m)v&&(delete K[b],n.call(v.dataset,v)),n.call(this,a);else{if(v){var c=v[k?"inserted":"deleted"];if(c){c.push.apply(c,k||m);return}n.call(v.dataset,v)}K[b]=a;a.dataset=this}}function c(){u=null;v&&(v=0,d.emit_itemsChanged=n,b())}var d=ia.prototype,n=d.emit_itemsChanged,v=0,u,K={};return function(K){K?(0==v&&(d.emit_itemsChanged=e,u||(u=a.setImmediate(c))),v++):(v-=0<v,0==v&&(d.emit_itemsChanged=n,b()))}}();Y.exports={STATE:A,SUBSCRIPTION:b,AbstractData:g,Value:s,Object:R,Slot:la,KeyObjectMap:ma,AbstractDataset:ia,Dataset:Q,DatasetWrapper:ka,DatasetAdapter:e,isConnected:da,getDatasetDelta:U,resolveDataset:T,wrapData:ea,wrapObject:x,wrap:function(a,b){var c=b?x:ea;return Array.isArray(a)?a.map(c):c(a)}}},"4.js":function(d,Y,a,t,ca,la,ma,na){function F(){}function V(){}
function da(){}function w(a){var b=a.constructor.prototype;a.setDelegate=b.setDelegate;a.destroy=b.destroy}function Z(a){return a.sortingValue||0}function U(a,b){a=a.sortingValue||0;b=b.sortingValue||0;return+(a>b)||-(a<b)}function T(a,b){a=a.sortingValue||0;b=b.sortingValue||0;return-(a>b)||+(a<b)}function ea(a){return a.childNodes.sort(a.sortingDesc?T:U)}function x(a,b,c,e){if(!a.length)return 0;e=!!e;var f,p,k=0,m=a.length-1;do if(f=k+m>>1,p=c(a[f]),e?b>p:b<p)m=f-1;else if(e?b<p:b>p)k=f+1;else return b==p?f:0;while(k<=m);return f+(p<b^e)}function fa(a,b,c,e,f){if(b!==c){var p=a,k=[];e&&(a.contextSelection=c,a.selected&&k.push(a));for(;p;){if((e=!p.selection||f&&p===a?p.firstChild:null)&&e.contextSelection!==b)throw 6;for(;!e;){if(p===a){k.length&&(b&&b.remove(k),c&&c.add(k));return}e=p.nextSibling;e||(p=p.parentNode)}p=e;p.selected&&k.push(p);p.contextSelection=c}}}function X(a,b){a.contextDisabled!=b&&(a.contextDisabled=b,a.disabled||(b?a.emit_disable():a.emit_enable()))}function W(n){if(!n)return null;if(n.isSatelliteConfig||n instanceof Q)return n;L.isClass(n)&&(n={instanceOf:n});if(n&&n.constructor===Object){var b=!1,c={isSatelliteConfig:!0},e,f;for(f in n)switch(f){case"instance":n[f]instanceof Q&&(c[f]=n[f]);break;case"instanceOf":L.isClass(n[f])&&n[f].isSubclassOf(Q)&&(e=n[f]);break;case"existsIf":case"delegate":case"dataSource":b=!0;c[f]=l(n[f]);break;case"config":c[f]=n[f]}c.instance||(c.instanceOf=e||Q);if(b&&(b="events"in n?n.events:"update","hook"in n&&!1=="events"in n&&(b=a.object.keys(n.hook)),Array.isArray(b)&&(b=b.join(" ")),"string"==typeof b))for(n={},b=b.split(/\s+/),e=0;f=b[e];e++)n[f]=ka,c.handler=n;return c}return null}function ga(a,b){for(var c in b)a[c]=W(b[c])}function I(a,b){var c=b.length-1;a.childNodes=b;a.firstChild=b[0]||null;a.lastChild=b[c]||null;for(var e=c;c=b[e];e--)c.nextSibling=b[e+1]||null,c.previousSibling=b[e-1]||null,a.insertBefore(c,c.nextSibling)}function aa(a,b){var c;if("function"==typeof a.childFactory&&(c=a.childFactory(b),c instanceof a.childClass))return c;if(!c)throw 9;throw 10;}a.require("./2.js");a.require("./3.js");d=this.path;var L=a.Class,A=a.object.complete,J=a.array,q=a.array.remove,b=a.fn.$undef,l=a.getter,g=a.fn.nullGetter;t=a.event.create;var G=a.event.events;ca=a.data.SUBSCRIPTION;var h=a.data.STATE,N=a.data.Object,$=a.data.AbstractDataset,E=a.data.Dataset,s={ANY:!0,NONE:!1,PARENT:"parent",OWNER:"owner"},S={};ca.addProperty("owner");ca.addProperty("dataSource");var R=L.customExtendProperty({},function(a,b){ga(a,b)}),ba=L.customExtendProperty({},ga),ka=function(a){var b=this.name,c=this.config,e=!c.existsIf||c.existsIf(a),f=a.satellite[b];e?f?(c.delegate&&f.setDelegate(c.delegate(a)),c.dataSource&&f.setDataSource(c.dataSource(a))):((f=c.instance)?(c.delegate&&f.setDelegate(c.delegate(a)),c.dataSource&&f.setDataSource(c.dataSource(a))):(e=("function"==typeof c.config?c.config(a):c.config)||{},e.owner=a,c.delegate&&(e.autoDelegate=!1,e.delegate=c.delegate(a)),c.dataSource&&(e.dataSource=c.dataSource(a)),f=new c.instanceOf(e),f.destroy=da,a.listen&&a.listen.satellite&&f.addHandler(a.listen&&a.listen.satellite,a)),a.satellite.__auto__[b].instance=f,a.setSatellite(b,f,!0)):f&&(c.instance&&(c.delegate&&f.setDelegate(),c.dataSource&&f.setDataSource()),a.satellite.__auto__[b].instance=null,a.setSatellite(b,null,!0))},ia={destroy:function(){this.owner.setSatellite(this.name,null)}},Q=L(N,{className:d+".AbstractNode",subscribeTo:N.prototype.subscribeTo+ca.DATASOURCE,isSyncRequired:function(){return this.state==h.UNDEFINED||this.state==h.DEPRECATED},syncEvents:{activeChanged:!1},emit_update:function(a){N.prototype.emit_update.call(this,a);if(a=this.parentNode)a.matchFunction&&this.match(a.matchFunction),a.insertBefore(this,this.nextSibling)},listen:{owner:{destroy:function(){this.ownerSatelliteName||this.setOwner()}}},autoDelegate:s.NONE,name:null,childNodes:null,emit_childNodesModified:t("childNodesModified","delta")&&function(a){G.childNodesModified.call(this,a);var b=this.listen.childNode,c;if(b){if(c=a.inserted)for(var e=0,f;f=c[e];e++)f.addHandler(b,this);if(c=a.deleted)for(e=0;f=c[e];e++)f.removeHandler(b,this)}},childNodesState:h.UNDEFINED,emit_childNodesStateChanged:t("childNodesStateChanged","oldState"),childClass:Q,dataSource:null,emit_dataSourceChanged:t("dataSourceChanged","oldDataSource"),dataSourceAdapter_:null,dataSourceMap_:null,destroyDataSourceMember:!0,parentNode:null,nextSibling:null,previousSibling:null,firstChild:null,lastChild:null,sorting:g,sortingDesc:!1,emit_sortingChanged:t("sortingChanged","oldSorting","oldSortingDesc"),groupingClass:null,grouping:null,emit_groupingChanged:t("groupingChanged","oldGrouping"),groupNode:null,groupId:NaN,satelliteConfig:R,satellite:ba,ownerSatelliteName:null,emit_satelliteChanged:t("satelliteChanged","name","oldSatellite"),owner:null,emit_ownerChanged:t("ownerChanged","oldOwner"),init:function(){N.prototype.init.call(this);var n=this.childNodes,b=this.dataSource;n&&(this.childNodes=null);b&&(this.dataSource=null);var c=this.grouping;c&&(this.grouping=null,this.setGrouping(c));this.childClass&&(this.childNodes=[],b?this.setDataSource(b):n&&this.setChildNodes(n));n=this.satellite;this.satelliteConfig!==R&&(n=a.object.merge(n,this.satelliteConfig));if(n!==ba){this.satellite=ba;for(var e in n)n[e]&&"object"==typeof n[e]&&this.setSatellite(e,n[e])}if(e=this.owner)this.owner=null,this.setOwner(e)},setChildNodesState:function(a,b){var c=String(a),e=this.childNodesState;if(!h.values[c])throw 7;if(e!=c||e.data!=b)this.childNodesState=Object(c),this.childNodesState.data=b,this.emit_childNodesStateChanged(e)},appendChild:function(a){},insertBefore:function(a,b){},removeChild:function(a){},replaceChild:function(a,b){},clear:function(a){},setChildNodes:function(a){},setGrouping:function(a,b){},setSorting:function(a,b){},setDataSource:function(a){},setOwner:function(a){a&&!1!=a instanceof Q||(a=null);if(a&&this.parentNode)throw 8;var b=this.owner;if(b!==a){var c=this.listen.owner;if(b){if(this.ownerSatelliteName&&b.satellite.__auto__&&this.ownerSatelliteName in b.satellite.__auto__)return;c&&b.removeHandler(c,this);this.ownerSatelliteName&&(this.owner=null,b.setSatellite(this.ownerSatelliteName,null))}a&&c&&a.addHandler(c,this);this.owner=a;this.emit_ownerChanged(b);this.autoDelegate!=s.OWNER&&this.autoDelegate!==s.ANY||this.setDelegate(a)}},setSatellite:function(a,b,c){var e=this.satellite[a]||null,f=this.satellite.__auto__,p=f&&f[a],k=c&&p;if(k)b=p.instance,p.config.instance&&b&&delete p.config.instance.setOwner;else{if((b=W(b))&&b.owner&&f&&b.ownerSatelliteName&&f[b.ownerSatelliteName])return;p&&(delete f[a],p.config.instance&&p.config.instance.removeHandler(ia,p),p.config.handler&&this.removeHandler(p.config.handler,p))}if(e!==b){c=this.listen.satellite;var m;e&&(delete this.satellite[a],e.ownerSatelliteName=null,p&&e.destroy===da?m=e:(c&&e.removeHandler(c,this),e.setOwner(null)),k&&!b&&p.config.instance&&(p.config.instance.setOwner=V));if(b){if(!1==b instanceof Q){p={owner:this,name:a,config:b,instance:null};b.handler&&this.addHandler(b.handler,p);b.instance&&(b.instance.addHandler(ia,p),b.instance.setOwner=V);f||(this.satellite===ba&&(this.satellite={}),f=this.satellite.__auto__={});f[a]=p;ka.call(p,this);!p.instance&&e&&this.emit_satelliteChanged(a,e);m&&(delete m.destroy,m.destroy());return}if(b.owner!==this){p&&p.config.delegate?(f=b.autoDelegate,b.autoDelegate=!1,b.setOwner(this),b.autoDelegate=f):b.setOwner(this);if(b.owner!==this)return;c&&b.addHandler(c,this)}else b.ownerSatelliteName&&(delete this.satellite[b.ownerSatelliteName],this.emit_satelliteChanged(b.ownerSatelliteName,b));this.satellite==ba&&(this.satellite={});this.satellite[a]=b;b.ownerSatelliteName=a}this.emit_satelliteChanged(a,e);m&&(delete m.destroy,m.destroy())}},getChildNodesDataset:function(){return S[this.basisObjectId]||new c({sourceNode:this})},destroy:function(){N.prototype.destroy.call(this);this.dataSource||this.dataSourceAdapter_?this.setDataSource():this.firstChild&&this.clear();this.parentNode&&this.parentNode.removeChild(this);this.grouping&&(this.grouping.setOwner(),this.grouping=null);this.owner&&this.setOwner();var a=this.satellite;if(a!==ba){var b=a.__auto__;delete a.__auto__;for(var c in b)b[c].config.instance&&!b[c].instance&&b[c].config.instance.destroy();for(c in a)b=a[c],b.owner=null,b.ownerSatelliteName=null,b.destroy===da&&delete b.destroy,b.destroy();this.satellite=null}this.lastChild=this.firstChild=this.nextSibling=this.previousSibling=this.parentNode=this.childNodes=null}}),e=L(Q,{className:d+".PartitionNode",autoDestroyIfEmpty:!1,nodes:null,first:null,last:null,init:function(){this.nodes=[];Q.prototype.init.call(this)},insert:function(a,b){var c=this.nodes,e=b?c.indexOf(b):-1;-1==e?(c.push(a),this.last=a):c.splice(e,0,a);this.first=c[0];a.groupNode=this;this.emit_childNodesModified({inserted:[a]})},remove:function(a){var b=this.nodes;q(b,a)&&(this.first=b[0]||null,this.last=b[b.length-1]||null,a.groupNode=null,this.emit_childNodesModified({deleted:[a]}));!this.first&&this.autoDestroyIfEmpty&&this.destroy()},clear:function(){if(this.first){for(var a=this.nodes,b=a.length;0<b--;)a[b].groupNode=null;this.nodes=[];this.last=this.first=null;this.emit_childNodesModified({deleted:a});this.autoDestroyIfEmpty&&this.destroy()}},destroy:function(){Q.prototype.destroy.call(this);this.last=this.first=this.nodes=null}}),B={childClass:Q,childFactory:null,listen:{dataSource:{itemsChanged:function(b,c){var e={},f=[];if(c.deleted)if(e.deleted=f,this.childNodes.length==c.deleted.length){for(var f=J(this.childNodes),d=0,p;p=f[d];d++)w(p);d=this.dataSource;this.dataSource=null;this.clear(!0);this.dataSource=d;this.dataSourceMap_={}}else for(d=0;p=c.deleted[d];d++){p=p.basisObjectId;var k=this.dataSourceMap_[p];w(k);delete this.dataSourceMap_[p];this.removeChild(k);f.push(k)}if(c.inserted)for(e.inserted=[],d=0;p=c.inserted[d];d++){var m=k=aa(this,{delegate:p});m.setDelegate=a.fn.$undef;m.destroy=F;this.dataSourceMap_[p.basisObjectId]=k;e.inserted.push(k);this.firstChild&&this.insertBefore(k)}this.firstChild?this.emit_childNodesModified(e):this.setChildNodes(e.inserted);if(this.destroyDataSourceMember&&f.length)for(d=0;p=f[d];d++)p.destroy()},stateChanged:function(a){this.setChildNodesState(a.state,a.state.data)},destroy:function(a){this.dataSourceAdapter_||this.setDataSource()}}},getChild:function(b,c){return a.array.search(this.childNodes,b,c)},getChildByName:function(a){return this.getChild(a,"name")},appendChild:function(a){return this.insertBefore(a)},insertBefore:function(a,b){if(!this.childClass)throw 11;if(a.firstChild)for(var c=this;c=c.parentNode;)if(c===a)throw 12;var e=a&&a instanceof
this.childClass;if(this.dataSource){if(!e||!a.delegate||this.dataSourceMap_[a.delegate.basisObjectId]!==a)throw 13;}else if(this.dataSourceAdapter_)throw 14;e||(a=aa(this,a instanceof N?{delegate:a}:a));if(a.owner)throw 15;var e=a.parentNode===this,f=this.childNodes,p=this.grouping,k=a.groupNode,m=null,r=this.sorting,y,D=!1,d,c=-1,h,l;e&&(h=a.nextSibling,l=a.previousSibling);r!==g&&(b=null,y=this.sortingDesc,d=r(a)||0,e&&(d===a.sortingValue?D=!0:(!h||(y?h.sortingValue<=d:h.sortingValue>=d))&&(!l||(y?l.sortingValue>=d:l.sortingValue<=d))&&(a.sortingValue=d,D=!0)));if(p){m=p.getGroupNode(a,!0);p=m.nodes;if(k===m&&(D||r===g&&h===b))return a;r!==g?k===m&&D?c=h&&h.groupNode===m?p.indexOf(h):p.length:(c=x(p,d,Z,y),a.sortingValue=d):c=b&&b.groupNode===m?p.indexOf(b):p.length;if(c<p.length)b=p[c];else if(m.last)b=m.last.nextSibling;else for(c=m,b=null;(c=c.nextSibling)&&!(b=c.first););if(a===b||e&&h===b)return k!==m&&(k&&k.remove(a),m.insert(a,b)),a;c=-1}else if(r!==g){if(D)return a;c=x(f,d,Z,y);b=f[c];a.sortingValue=d;if(a===b||e&&h===b)return a}else{if(b&&b.parentNode!==this)throw 16;if(e){if(h===b)return a;if(a===b)throw 17;}}e?(h?(h.previousSibling=l,a.nextSibling=null):this.lastChild=l,l?(l.nextSibling=h,a.previousSibling=null):this.firstChild=h,-1==c?q(f,a):(y=f.indexOf(a),f.splice(y,1),c-=y<c),k&&(k.remove(a),k=null)):a.parentNode&&a.parentNode.removeChild(a);k!=m&&m.insert(a,b);if(b){-1==c&&(c=f.indexOf(b));if(-1==c)throw 18;a.nextSibling=b;f.splice(c,0,a)}else c=f.length,f.push(a),b={previousSibling:this.lastChild},this.lastChild=a;a.parentNode=this;a.previousSibling=b.previousSibling;0==c?this.firstChild=a:b.previousSibling.nextSibling=a;b.previousSibling=a;e||(fa(a,a.contextSelection,this.selection||this.contextSelection,!0),X(a,this.disabled||this.contextDisabled),(a.underMatch_||this.matchFunction)&&a.match&&a.match(this.matchFunction),a.autoDelegate!=s.PARENT&&a.autoDelegate!==s.ANY||a.setDelegate(this),this.dataSource||this.emit_childNodesModified({inserted:[a]}),a.listen.parentNode&&this.addHandler(a.listen.parentNode,a));return a},removeChild:function(a){if(!a||a.parentNode!==this)throw 19;if(!1==a instanceof this.childClass)throw 20;if(this.dataSource){if(this.dataSource.has(a.delegate))throw 21;}else if(this.dataSourceAdapter_)throw 22;var b=this.childNodes.indexOf(a);if(-1==b)throw 23;this.childNodes.splice(b,1);a.parentNode=null;a.nextSibling?a.nextSibling.previousSibling=a.previousSibling:this.lastChild=a.previousSibling;a.previousSibling?a.previousSibling.nextSibling=a.nextSibling:this.firstChild=a.nextSibling;a.nextSibling=null;a.previousSibling=null;a.listen.parentNode&&this.removeHandler(a.listen.parentNode,a);fa(a,a.contextSelection,null,!0);a.groupNode&&a.groupNode.remove(a);this.dataSource||this.emit_childNodesModified({deleted:[a]});a.autoDelegate!=s.PARENT&&a.autoDelegate!==s.ANY||a.setDelegate();return a},replaceChild:function(a,b){if(this.dataSource)throw 24;if(this.dataSourceAdapter_)throw 25;if(null==b||b.parentNode!==this)throw 26;this.insertBefore(a,b);return this.removeChild(b)},clear:function(a){if(this.dataSource&&this.dataSource.itemCount)throw 27;if(this.firstChild){a&&fa(this,this.selection||this.contextSelection,null,!1,!0);var b=this.childNodes;this.lastChild=this.firstChild=null;this.childNodes=[];this.emit_childNodesModified({deleted:b});for(var c=b.length;0<c--;){var e=b[c];e.listen.parentNode&&e.parentNode.removeHandler(e.listen.parentNode,e);e.parentNode=null;e.groupNode=null;a?(e.nextSibling=null,e.previousSibling=null,e.autoDelegate!=s.PARENT&&e.autoDelegate!==s.ANY||e.setDelegate()):e.destroy()}if(this.grouping)for(b=this.grouping.childNodes,c=b.length-1;a=b[c];c--)a.clear()}},setChildNodes:function(a,c){this.dataSource||this.dataSourceAdapter_||this.clear(c);if(a&&(!1=="length"in a&&(a=[a]),a.length)){var e=this.emit_childNodesModified;this.emit_childNodesModified=b;for(var f=0,d=a.length;f<d;f++)this.insertBefore(a[f]);this.emit_childNodesModified=e;this.emit_childNodesModified({inserted:this.childNodes})}},setDataSource:function(b){if(!this.childClass)throw 28;b=a.data.resolveDataset(this,this.setDataSource,b,"dataSourceAdapter_");if(this.dataSource!==b){var c=this.dataSource,e=this.listen.dataSource;c&&(this.dataSource=this.dataSourceMap_=null,e&&c.removeHandler(e,this));if(this.firstChild){if(c)for(var f=0,d;d=this.childNodes[f];f++)w(d);this.clear()}(this.dataSource=b)?(this.dataSourceMap_={},this.setChildNodesState(b.state,b.state.data),e&&(b.addHandler(e,this),b.itemCount&&e.itemsChanged&&e.itemsChanged.call(this,b,{inserted:b.getItems()}))):this.setChildNodesState(h.UNDEFINED);this.emit_dataSourceChanged(c)}},setGrouping:function(a,b){if("function"==typeof a||"string"==typeof a)a={rule:a};!1==a instanceof M&&(a=a&&"object"==typeof a?new this.groupingClass(a):null);if(this.grouping!==a){var c=this.grouping,e;if(c){this.grouping=null;if(!a&&this.firstChild){e=this.sorting!==g?ea(this):this.childNodes;c.nullGroup.clear();for(var f=c.childNodes.slice(0),d=0;d<f.length;d++)f[d].clear();I(this,e)}c.setOwner()}if(a&&(this.grouping=a,a.setOwner(this),this.firstChild)){e=this.sorting!==g?ea(this):this.childNodes;for(d=0;f=e[d];d++)f.groupNode=this.grouping.getGroupNode(f,!0);for(d=0;f=e[d];d++)f.groupNode.nodes.push(f);e.length=0;for(d=this.grouping.nullGroup;d;d=d.nextSibling)f=d.nodes,d.first=f[0]||null,d.last=f[f.length-1]||null,e.push.apply(e,f),d.emit_childNodesModified({inserted:f});I(this,e)}this.emit_groupingChanged(c)}},setSorting:function(a,b){a=l(a);b=!!b;if(this.sorting!==a||this.sortingDesc!=!!b){var c=this.sorting,e=this.sortingDesc;this.sorting=a;this.sortingDesc=!!b;if(a!==g&&this.firstChild){var f=[],d;for(d=this.firstChild;d;d=d.nextSibling)d.sortingValue=a(d)||0;if(this.grouping)for(var k=this.grouping.nullGroup;k;k=k.nextSibling)d=k.nodes=ea({childNodes:k.nodes,sortingDesc:this.sortingDesc}),k.first=d[0]||null,k.last=d[d.length-1]||null,f.push.apply(f,d);else f=ea(this);I(this,f)}this.emit_sortingChanged(c,e)}},setMatchFunction:function(a){if(this.matchFunction!=a){var b=this.matchFunction;this.matchFunction=a;for(var c=this.lastChild;c;c=c.previousSibling)c.match(a);this.emit_matchFunctionChanged(b)}}},H=L(Q,B,{className:d+".Node",emit_enable:t("enable")&&function(){for(var a=this.firstChild;a;a=a.nextSibling)X(a,!1);G.enable.call(this)},emit_disable:t("disable")&&function(){for(var a=this.firstChild;a;a=a.nextSibling)X(a,!0);G.disable.call(this)},emit_satelliteChanged:function(a,b){Q.prototype.emit_satelliteChanged.call(this,a,b);this.satellite[a]instanceof H&&X(this.satellite[a],this.disabled||this.contextDisabled)},emit_select:t("select"),emit_unselect:t("unselect"),emit_match:t("match"),emit_unmatch:t("unmatch"),emit_matchFunctionChanged:t("matchFunctionChanged","oldMatchFunction"),selectable:!0,selected:!1,selection:null,contextSelection:null,matchFunction:null,matched:!0,disabled:!1,contextDisabled:!1,listen:{owner:{enable:function(){X(this,!1)},disable:function(){X(this,!0)}}},init:function(){this.selection&&(!1==this.selection instanceof $&&(this.selection=new C(this.selection)),this.listen.selection&&this.selection.addHandler(this.listen.selection,this));Q.prototype.init.call(this);this.disabled&&this.emit_disable();this.selected&&(this.selected=!1,this.select(!0))},setSelection:function(a){if(this.selection!==a)return fa(this,this.selection||this.contextSelection,a||this.contextSelection,!1,!0),this.selection&&this.listen.selection&&this.selection.removeHandler(this.listen.selection,this),(this.selection=a)&&this.listen.selection&&a.addHandler(this.listen.selection,this),!0},select:function(a){var b=this.selected,c=this.contextSelection;c?a?b?c.remove([this]):c.add([this]):this.selectable&&c.set([this]):!b&&this.selectable&&(this.selected=!0,this.emit_select());return this.selected!=b},unselect:function(){var a=this.selected;if(a){var b=this.contextSelection;b?b.remove([this]):(this.selected=!1,this.emit_unselect())}return this.selected!=a},setSelected:function(a,b){return a?this.select(b):this.unselect()},enable:function(){var a=this.disabled;a&&(this.disabled=!1,this.contextDisabled||this.emit_enable());return this.disabled!=a},disable:function(){var a=this.disabled;a||(this.disabled=!0,this.contextDisabled||this.emit_disable());return this.disabled!=a},setDisabled:function(a){return a?this.disable():this.enable()},isDisabled:function(){return this.disabled||this.contextDisabled},match:function(a){"function"!=typeof a&&(a=null);this.underMatch_&&!a&&this.underMatch_(this,!0);this.underMatch_=a;a=!a||a(this);this.matched!=a&&((this.matched=a)?this.emit_match():this.emit_unmatch())},destroy:function(){this.unselect();this.contextSelection=null;this.selection&&this.setSelection();Q.prototype.destroy.call(this)}}),M=L(Q,B,{className:d+".GroupingNode",emit_childNodesModified:function(a){G.childNodesModified.call(this,a);this.nullGroup.nextSibling=this.firstChild;var b;if(b=a.inserted){a=0;for(var c;c=b[a++];)c.groupId_=c.delegate?c.delegate.basisObjectId:c.data.id,this.map_[c.groupId_]=c;if(this.dataSource&&this.nullGroup.first)for(b=this.owner,c=J(this.nullGroup.nodes),a=c.length;0<a--;)b.insertBefore(c[a],c[a].nextSibling)}},emit_ownerChanged:function(a){a&&a.grouping===this&&a.setGrouping(null,!0);this.owner&&this.owner.grouping!==this&&this.owner.setGrouping(this);G.ownerChanged.call(this,a);!this.owner&&this.autoDestroyWithNoOwner&&this.destroy()},map_:null,nullGroup:null,autoDestroyWithNoOwner:!0,autoDestroyEmptyGroups:!0,rule:g,childClass:e,childFactory:function(a){return new this.childClass(A({autoDestroyIfEmpty:this.dataSource?!1:this.autoDestroyEmptyGroups},a))},init:function(){this.map_={};this.nullGroup=new e;"groupGetter"in this&&(this.rule=l(this.groupGetter));Q.prototype.init.call(this)},getGroupNode:function(a,b){var c=this.rule(a),e=c instanceof N,f=this.map_[e?c.basisObjectId:c];this.dataSource&&(b=!1);!f&&b&&(f=this.appendChild(e?c:{data:{id:c,title:c}}));return f||this.nullGroup},setDataSource:function(a){var b=this.dataSource;B.setDataSource.call(this,a);if((a=this.owner)&&this.dataSource!==b)for(var b=J(a.childNodes),c=b.length-1;0<=c;c--)a.insertBefore(b[c],b[c+1])},insertBefore:function(a,b){a=B.insertBefore.call(this,a,b);var c=a.first;if(c){for(var f=c.parentNode,d=a.last,p,k,m,r=null,y=a;(y=y.nextSibling)&&!(r=y.first););m=r?r.previousSibling:f.lastChild;p=c.previousSibling;k=d.nextSibling;if(k!==r){var D=f.childNodes,y=a.nodes,h=y.length;p&&(p.nextSibling=k);k&&(k.previousSibling=p);m&&(m.nextSibling=c);r&&(r.previousSibling=d);c.previousSibling=m;d.nextSibling=r;var d=D.indexOf(c),l=r?D.indexOf(r):D.length;l>d&&(l-=h);D.splice(d,h);D.splice.apply(D,[l,0].concat(y));m&&p||(f.firstChild=D[0]);r&&k||(f.lastChild=D[D.length-1]);if(c instanceof e)for(c=h;0<c--;)f.insertBefore(y[c],r),r=y[c]}}return a},removeChild:function(a){if(a=B.removeChild.call(this,a)){delete this.map_[a.groupId_];for(var b=0,c;c=a.nodes[b];b++)c.parentNode.insertBefore(c)}return a},clear:function(a){var b=[],c=this.getGroupNode,e=this.nullGroup;this.getGroupNode=function(){return e};for(var f=this.firstChild;f;f=f.nextSibling)b.push.apply(b,f.nodes);for(var f=0,d;d=b[f];f++)d.parentNode.insertBefore(d);this.getGroupNode=c;B.clear.call(this,a);this.map_={}},destroy:function(){this.autoDestroyWithNoOwner=!1;Q.prototype.destroy.call(this);this.nullGroup.destroy();this.map_=this.nullGroup=null}});Q.prototype.groupingClass=M;var f={childNodesModified:function(a,b){var c=this.members_,e={},f,d=0,k=0,m=b.inserted,r=b.deleted;if(m&&m.length)for(e.inserted=m;f=m[d];)c[f.basisObjectId]=f,d++;if(r&&r.length)for(e.deleted=r;f=r[k];)delete c[f.basisObjectId],k++;(d||k)&&this.emit_itemsChanged(e)},destroy:function(){this.destroy()}},c=L($,{className:d+".ChildNodesDataset",sourceNode:null,init:function(){$.prototype.init.call(this);var a=this.sourceNode;S[a.basisObjectId]=this;a.firstChild&&f.childNodesModified.call(this,a,{inserted:a.childNodes});a.addHandler(f,this)},destroy:function(){this.sourceNode.removeHandler(f,this);delete S[this.sourceNode.basisObjectId];$.prototype.destroy.call(this)}}),C=L(E,{className:d+".Selection",multiple:!1,emit_itemsChanged:function(a){E.prototype.emit_itemsChanged.call(this,a);if(a.inserted)for(var b=0,c;c=a.inserted[b];b++)c.selected||(c.selected=!0,c.emit_select());if(a.deleted)for(b=0;c=a.deleted[b];b++)c.selected&&(c.selected=!1,c.emit_unselect())},add:function(a){if(!this.multiple){if(this.itemCount)return this.set(a);a=[a[0]]}for(var b=[],c=0,e;e=a[c];c++)e.contextSelection==this&&e.selectable&&b.push(e);return E.prototype.add.call(this,b)},set:function(a){for(var b=[],c=0,e;e=a[c];c++)e.contextSelection==this&&e.selectable&&b.push(e);this.multiple||b.splice(1);return E.prototype.set.call(this,b)}});Y.exports={DELEGATE:s,AbstractNode:Q,Node:H,GroupingNode:M,PartitionNode:e,ChildNodesDataset:c,Selection:C,nullSelection:new $}},"5.js":function(d,Y,a,t,ca,la,ma,na){function F(b){"string"==typeof b&&(b=a.l10n.token(b));if(!b)return null;var c=b.basisObjectId,e=p[c];e||(e=p[c]=new y(new k(b)));return e}function V(b){r[I.extname(b)]&&a.resource(b)().startUse()}function da(b){r[I.extname(b)]&&a.resource(b)().stopUse()}function w(){this.destroyBuilder&&T.call(this);for(var a=0,b;b=this.attaches_[a];a++)b.handler.call(b.context)}
function Z(a){for(var b=[],c=0;c<a.length;c++)b.push(Array.isArray(a[c])?Z(a[c]):a[c]);return b}function U(b,c,k,e){var f=b,r;"function"==typeof f&&(c="baseURI"in b?b.baseURI:c,r="url"in b?b.url:r,f=f());f instanceof a.Token&&(c="baseURI"in b?b.baseURI:c,r="url"in b?b.url:r,f=f.get());Array.isArray(f)?(k&&(f=Z(f)),f={tokens:f}):"object"==typeof f&&Array.isArray(f.tokens)||(f=String(f));"string"==typeof f&&(f=m(f,c,e,r));return f}function T(){var a=U(this.source,this.baseURI),b=this.destroyBuilder,c=this.builder(a.tokens,this),k=this.deps_;if(k){this.deps_=null;for(var e=0,m;m=k[e];e++)m.bindingBridge.detach(m,T,this)}if(a.deps&&a.deps.length)for(this.deps_=k=a.deps,e=0;m=k[e];e++)m.bindingBridge.attach(m,T,this);this.createInstance=c.createInstance;this.clearInstance=c.destroyInstance;this.getBinding=function(){return{names:c.keys}};this.destroyBuilder=c.destroy;if(a=a.resources&&0<a.resources.length?a.resources:null)for(e=0;k=a[e];e++)V(k);if(this.resources)for(e=0;k=this.resources[e];e++)da(k);this.resources=a;b&&b(!0)}function ea(a){return function(){var b;b=(b=document.getElementById(a))&&"SCRIPT"==b.tagName?"text/basis-template"==b.type?b.textContent||b.text:"":"";return b}}function x(){var b=a.array(arguments).join("."),c=pa[b];c||(c=new O("",b),pa[b]=c);return c}function fa(a,b){for(var c=[],k={},e=[],m=0;m<b.length;m++)k[b[m]]||(k[b[m]]=!0,e.push(b[m]));c.source=e.join("/");k={base:!0};for(e=0;e<b.length;e++)m=b[e]||"base",m==a||k[m]||(W(m),k[m]=!0,c.push(m),b.splice.apply(b,[e+1,0].concat(z[m].fallback)));c.unshift(a);"base"!=a&&c.push("base");c.value=c.join("/");return c}function X(a,b){for(var c=z[a].sourcesList,k=0,e;e=c[k];k++)if(e.hasOwnProperty(b))return e[b];return""}function W(b){b||(b="base");if(z[b])return z[b].theme;if(!/^([a-z0-9\_\-]+)$/.test(b))throw 31;var c={},k=[c],e=new oa;z[b]={theme:e,sources:c,sourcesList:k,fallback:[]};var m=function(a,k){!1==a in c&&(c[a]=k,-1!=z[ha].fallback.indexOf(b)&&x(a).set());return x(a)};a.object.extend(e,{name:b,fallback:function(a){if(e!==ja&&0<arguments.length){var c="string"==typeof a?a.split("/"):[],k={},c=fa(b,c);if(z[b].fallback.source!=c.source){z[b].fallback.source=c.source;for(var m in z){var f=z[m].fallback,c=fa(m,(f.source||"").split("/"));if(c.value!=f.value){k[m]=!0;z[m].fallback=c;f=z[m].sourcesList;f.length=c.length;for(var r=0;r<f.length;r++)f[r]=z[c[r]].sources}}}for(m in k)if(-1!=z[ha].fallback.indexOf(m)){c=void 0;for(c in pa)x(c).set();break}}c=z[b].fallback.slice(1);c.source=z[b].fallback.source;return c},define:function(a,b){"function"==typeof a&&(a=a());if("string"==typeof a){if("object"==typeof b){var c=a,k=b,f={},r;for(r in k)k.hasOwnProperty(r)&&(f[r]=m(c+"."+r,k[r]));return f}return 1==arguments.length?x(a):m(a,b)}if("object"==typeof a){k=a;for(c in k)k.hasOwnProperty(c)&&m(c,k[c]);return e}},apply:function(){if(b!=ha){ha=b;for(var a in pa)x(a).set();a=0;for(var c;c=P[a];a++)c.fn.call(c.context,b)}return e},getSource:function(a,k){return k?X(b,a):c[a]},drop:function(a){c.hasOwnProperty(a)&&(delete c[a],-1!=z[ha].fallback.indexOf(b)&&x(a).set())}});z[b].fallback=fa(b,[]);k.push(z.base.sources);return e}a.require("./1.js");d=this.path;t=a.Class;var ga=a.cleaner,I=a.path,aa=a.array.search,L=a.array.add,A=a.array.remove,J=[],q={},b=1,l=2,g=4,G=6,h=3,N=8,$=0,E=1,s=2,S=3,R=4,ba=/^event-(.+)$/,ka={4:"class",5:"style"},ia={"class":g,style:5},Q={2:R,4:R-1,5:R-1,6:2},e=4,B=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,H=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/ig,M=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/ig,f=/(.|[\r\n])*?--\x3e/g,c=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/ig,C=/([a-z_][a-z0-9_]*)(\||\}\s*)/ig,n=/"((?:(\\")|[^"])*?)"\s*/g,v=/^/g,u={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g},K=/\\"/g,qa=function(a){var k=[],e=[],m={childs:k},r,d,y,D=!1,p=0,ra,g=B,z=0,O;for(a=a.trim();z<a.length||g!=B;)if(r=g.lastIndex=z,(O=g.exec(a))&&O.index===z){z=g.lastIndex;switch(g){case B:ra=r+O[1].length;p!=ra&&(r=p==r?O[1]:a.substring(p,ra),(d=r.replace(/\s*(\r\n?|\n\r?)\s*/g,""))&&m.childs.push({type:h,len:r.length,value:d}));p=ra;O[3]?m.childs.push({type:h,refs:["l10n:"+O[3]],value:"{l10n:"+O[3]+"}"}):"{"==O[2]?(y=z-1,m.childs.push(d={type:h}),g=C):O[4]?"/"==O[4]?(d=null,g=c):(m.childs.push(d={type:N}),O[5]?(y=z-O[5].length,g=C):(y=z,g=f)):O[2]&&(D=!0,e.push(m),m.childs.push(d={type:b,attrs:[],childs:[]}),m=d,g=H);break;case c:O[1]!==(m.prefix?m.prefix+":":"")+m.name?m.childs.push({type:h,value:"</"+O[0]}):m=e.pop();g=B;break;case H:case M:if(":"==O[2]){d.prefix?g=v:d.prefix=O[1];break}O[1]&&(d.name=O[1],d.type==l&&m.attrs.push(d));if("{"==O[2]){g=d.type==b?C:v;break}if(O[3]){D=!1;if("/>"==O[3])m=e.pop();else if("b"==m.prefix&&m.name in u){g=u[m.name];break}g=B;break}if("="==O[2]){g=n;break}d={type:l};g=M;break;case f:d.value=a.substring(y,z-3);g=B;break;case C:d.refs?d.refs.push(O[1]):d.refs=[O[1]];"|"!=O[2]&&(d.type==h?(z-=O[2].length-1,d.value=a.substring(y,z),g=B):d.type==N?g=f:d.type==l&&"="==a[z]?(z++,g=n):(d={type:l},g=M));break;case n:d.value=O[1].replace(K,'"');d={type:l};g=M;break;case u.text:m.childs.push({type:h,value:O[1]});m=e.pop();g=B;break;default:throw 29;}g==B&&(p=z)}else if(g==C&&d&&d.type==N)g=f;else{D&&(m=e.pop());d&&m.childs.pop();if(d=m.childs.pop())d.type!=h||d.refs?m.childs.push(d):p-="len"in d?d.len:d.value.length;D=!1;g=B}p!=z&&m.childs.push({type:h,value:a.substring(p,z)});k.templateTokens=!0;return k},p={},k=a.Token.subclass({className:d+".L10nProxyToken",token:null,url:"",init:function(a){this.url=a.dictionary.resource.url+":"+
a.name;this.token=a;this.set();a.attach(this.set,this)},set:function(){return a.Token.prototype.set.call(this,"markup"==this.token.type?'<span class="basisjs-markup" data-basisjs-l10n="'+(this.token.name+"@"+this.token.dictionary.resource.url)+'">'+String(this.token.value)+"</span>":"")},destroy:function(){a.Token.prototype.destroy.call(this);this.token=null}}),m=function(){function c(a){return(a.prefix?a.prefix+":":"")+a.name}function k(a,b){P[b]||("#"==b.charAt(0)?P[b]=String.fromCharCode("x"==b.charAt(1)||"X"==b.charAt(1)?parseInt(b.substr(2),16):b.substr(1)):C&&(C.innerHTML=a,P[b]=C.firstChild?C.firstChild.nodeValue:a));return P[b]||a}function m(a){return(a=a.refs)&&a.length?a:0}function f(a,b){function c(a){for(var b,e=[],m=[],f={},r=0;r<a.length;r++)r%2?(b=a[r],f[b]||(f[b]=e.length,e.push(b)),m.push(f[b])):a[r]&&m.push(a[r].replace(t,k));return[e,m]}var e=0,m,r;if(b)switch(a){case"class":if(m=b.match(oa)){for(var d=[],e=[],y=0,D;D=m[y];y++)(r=D.match(pa))?e.push([r[1]||"",r[2]]):d.push(D);b=d.join(" ")}break;case"style":d=[];e=[];if(m=b.match(ha))for(y=0;D=m[y];y++)r=D.match(q),D=r[1],b=r[2].trim(),r=b.split(v),1<r.length?(r=c(r),r.push(D),e.push(r)):d.push(D+": "+b.replace(t,k));(b=d.join("; "))&&(b+=";");break;default:m=b.split(u),1<m.length?e=c(m):b=b.replace(t,k)}e&&!e.length&&(e=0);return{binding:e,value:b,type:ia[a]||2}}function r(a,b,k){a=a.attrs;for(var e=[],y,D=0,p;p=a[D];D++)if("b"==p.prefix)switch(p.name){case"ref":for(p=(p.value||"").trim().split(/\s+/),y=0;y<p.length;y++)d(b,p[y])}else if(y=p.name.match(ba))e.push(y[1]==p.value?[G,y[1]]:[G,y[1],p.value]);else{y=f(p.name,p.value);var n=[y.type,y.binding,m(p)];2==y.type&&n.push(c(p));!y.value||k&&y.binding&&2==y.type||n.push(y.value);e.push(n)}return e.length?e:0}function d(a,b){a[s]||(a[s]=[]);L(a[s],b);"element"!=b&&(a[E]=1==a[s].length?b:0)}function y(a,b){var c=a[s].indexOf(b);if(-1!=c){var k=a[E]&&"number"==typeof a[E];a[s].splice(c,1);k&&c==a[E]-1&&(a[E]=b);a[s].length?k&&(a[E]-=c<a[E]-1):a[s]=0}}function D(a){var b={};if(a.attrs)for(var k=0,e;e=a.attrs[k];k++)b[c(e)]=e.value;return b}function p(a,b){for(var c=0;c<b.length;c++)L(a,b[c])}function n(g,z,oa){function pa(a,c,k){var m=D(a);c&&(m.name=c);if(m.name&&B.test(m.name)){var r=w[m.ref||"element"];if(r&&r.token[$]==b){c=r.token;var d=(a=m.name.match(ba))?G:ia[m.name]||l,y=Q[d]||R,p=c&&aa(c,m.name,function(a){return a[$]==G?"event-"+a[1]:ka[a[$]]||a[S]},e);p||"remove"==k||(a?p=[d,a[1]]:(p=[d,0,0,d==l?m.name:""],d==l&&p.push("")),c||(c=[],r.token.push(c)),c.push(p));r="class"==m.name||"style"==m.name;switch(k){case"set":if(p[$]==G){m.value==a[1]?p.length=2:p[y]=m.value;break}k=f(m.name,m.value);p[E]=k.binding;oa.optimizeSize&&p[E]&&!r?p.length=y:p[y]=k.value||"";if(r&&!p[E]&&!p[y]){A(c,p);break}break;case"append":k=f(m.name,m.value);if(!a)if(k.binding)if(d=p[E])switch(m.name){case"style":for(var n={},m=0,g;g=d[m];m++)n[g[2]]=m;for(m=0;g=k.binding[m];m++)g[2]in n?d[n[g[2]]]=g:d.push(g);break;case"class":d.push.apply(d,k.binding);break;default:for(k.binding[0].forEach(function(a){L(this,a)},d[0]),m=0;m<k.binding[1].length;m++)n=k.binding[1][m],"number"==typeof n&&(n=d[0].indexOf(k.binding[0][n])),d[1].push(n)}else p[E]=k.binding,r||p[E][1].unshift(p[y]);else!r&&p[E]&&p[E][1].push(m.value);k.value&&(p[y]=(p[y]||"")+(p[y]&&(a||r)?" ":"")+k.value);if(r&&!p[E]&&!p[y]){A(c,p);break}break;case"remove":p&&A(c,p)}}}}for(var ha=[],s=0,q,v;q=g[s];s++){var u=m(q),P=u&&1==u.length?u[0]:0;switch(q.type){case b:if("b"==q.prefix){var C=D(q);switch(q.name){case"resource":case"style":C.src&&z.resources.push(I.resolve(z.baseURI+
C.src));break;case"l10n":C.src&&(z.dictURI=I.resolve(z.baseURI,C.src));break;case"define":if("name"in C&&!z.defines[C.name])switch(C.type){case"bool":z.defines[C.name]=["true"==C["default"]?1:0];break;case"enum":q=C.values?C.values.trim().split(" "):[],z.defines[C.name]=[q.indexOf(C["default"])+1,q]}break;case"text":q=q.childs[0];g[s--]=a.object.extend(q,{refs:(C.ref||"").trim().split(/\s+/),value:"notrim"in C?q.value:q.value.replace(/^\s*[\r\n]+|[\r\n]\s*$/g,"")});break;case"include":if(P=C.src){P=(u=/^#\d+$/.test(P))?P.substr(1):P;P=u?J[P]:/^[a-z0-9\.]+$/i.test(P)&&!/\.tmpl$/.test(P)?x(P):a.resource(I.resolve(z.baseURI+P));if(!P)continue;if(-1==M.indexOf(P)){L(z.deps,P);M.push(P);u?(P.source.bindingBridge&&L(z.deps,P.source),u=U(P.source,P.baseURI,!0,oa)):u=U(P,P.url?I.dirname(P.url)+"/":"",!0,oa);M.pop();u.resources&&!1=="no-style"in C&&p(z.resources,u.resources);u.deps&&p(z.deps,u.deps);var w=ra(u.tokens),P=(q.childs||[]).slice();C["class"]&&P.push({type:b,prefix:"b",name:"append-class",attrs:[{type:l,name:"value",value:C["class"]}]});C.id&&P.push({type:b,prefix:"b",name:"set-attr",attrs:[{type:l,name:"name",value:"id"},{type:l,name:"value",value:C.id}]});C.ref&&w.element&&C.ref.trim().split(/\s+/).map(function(a){d(w.element.token,a)});for(var C=0,H;H=P[C];C++)if(H.type==b&&"b"==H.prefix)switch(H.name){case"replace":case"remove":case"before":case"after":q="replace"==H.name||"remove"==H.name;var ja=D(H),K="ref"in ja||!q?ja.ref:"element";if(K=K&&w[K])ja=K.owner.indexOf(K.token),-1!=ja&&(q=[ja+("after"==H.name),q],"remove"!=H.name&&(q=q.concat(n(H.childs,z,oa)||[])),K.owner.splice.apply(K.owner,q));break;case"prepend":case"append":ja=D(H);(q=(K=(K="ref"in ja?ja.ref:"element")&&w[K])&&K.token)&&q[$]==b&&(ja=n(H.childs,z,oa)||[],"prepend"==H.name?q.splice.apply(q,[e,0].concat(ja)):q.push.apply(q,ja));break;case"attr":case"set-attr":pa(H,!1,"set");break;case"append-attr":pa(H,!1,"append");break;case"remove-attr":pa(H,!1,"remove");break;case"class":case"append-class":pa(H,"class","append");break;case"set-class":pa(H,"class","set");break;case"remove-class":pa(H,"class","remove");break;case"add-ref":ja=D(H);(q=(K=(K="ref"in ja?ja.ref:"element")&&w[K])&&K.token)&&ja.name&&d(q,ja.name);break;case"remove-ref":ja=D(H),(q=(K=(K="ref"in ja?ja.ref:"element")&&w[K])&&K.token)&&y(q,ja.name||ja.ref)}else u.tokens.push.apply(u.tokens,n([H],z,oa)||[]);w.element&&y(w.element.token,"element");ha.push.apply(ha,u.tokens)}}}continue}v=[1,P,u,c(q)];v.push.apply(v,r(q,v,oa.optimizeSize)||[]);v.push.apply(v,n(q.childs,z,oa)||[]);break;case h:u&&2==u.length&&aa(u,"element")&&(P=u[+!u.lastSearchIndex]);if(P&&(C=O(P,z.dictURI).split(/[:@\{]/),"l10n"==C[0]&&3==C.length))if(C[2]){if(C=C.slice(1).join("@"),C=a.l10n.token(C),H=F(C),z.l10nResolved=!0,H&&"markup"==C.type){g[s--]=qa('<b:include src="#'+H.templateId+'"/>')[0];continue}}else A(u,P),0==u.length&&(u=null),P=0,q.value=q.value.replace(/\}$/,"@undefined}");v=[3,P,u];u&&q.value=="{"+u.join("|")+"}"||v.push(q.value.replace(t,k));break;case N:if(oa.optimizeSize&&!P&&!u)continue;v=[8,P,u];oa.optimizeSize||u&&q.value=="{"+u.join("|")+"}"||v.push(q.value.replace(t,k))}for(;0===v[v.length-1];)v.pop();ha.push(v)}return ha.length?ha:0}function O(a,b){if("string"!=typeof a)return a;var c=a.split(":");2==c.length&&"l10n"==c[0]&&-1==c[1].indexOf("@")&&(c[1]=c[1]+"@"+b);return c.join(":")}function ra(a,c,k,m){k||(k={});m=m||0;for(var r;r=a[m];m++)if(r[$]!=G){var f=r[s];if(f)for(var d=f.length-1,D;D=f[d];d--)-1!=D.indexOf(":")?y(r,D):(k[D]&&y(k[D].token,D),r[E]==D&&(r[E]=d+1),k[D]={owner:a,token:r});switch(r[$]){case h:r[E]=O(r[E],c);break;case l:if(r[E])for(r=r[E][0],d=0;d<r.length;d++)r[d]=O(r[d],c);break;case b:ra(r,c,k,e)}}return k}function z(a,c,k,m){var r=0;m=m||0;for(var f;f=a[m];m++)if(f[$]==b&&(r+=z(f,c,k,e)),f[$]==g||f[$]==l&&"class"==f[S]){var d=f[E],y=R-(f[$]==g);if(d){for(var D=(f[y]||"").trim().split(" "),p=0,n;n=d[p];p++)if(!(2<n.length)){var h=n[1].split(":").pop(),O=c.defines[h];O?(n.push.apply(n,O),O.used=!0,O[0]&&(1==O.length?L(D,n[0]+h):L(D,n[0]+O[1][O[0]-1]))):r++}f[y]=D.join(" ");k.optimizeSize&&!f[y]&&(f.length=y)}}return r}var B=/^[a-z_][a-z0-9_\-]*$/i,oa=/(\S+)/g,pa=/^([a-z_][a-z0-9_\-]*)?\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,ha=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,q=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,v=/\{([a-z_][a-z0-9_]*)\}/i,u=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,t=/&([a-z]+|#[0-9]+|#x[0-9a-f]{1,4});?/gi,P=a.NODE_ENV?node_require("./template/htmlentity.json"):{},C=a.NODE_ENV?null:document.createElement("div"),M=[];return function(b,c,k,e){k=k||{};var m=[],r={sourceUrl:e,baseURI:c||"",tokens:null,resources:[],deps:[],defines:{},unpredictable:!0,warns:m};r.dictURI=e?a.path.resolve(e):c||"";r.dictURI&&(c=a.path.extname(r.dictURI))&&".l10n"!=c&&(r.dictURI=r.dictURI.substr(0,r.dictURI.length-c.length)+".l10n");b.templateTokens?b.warns&&m.push.apply(m,b.warns):b=qa(String(b));r.tokens=n(b,r,k);r.tokens||(r.tokens=[[3,0,0,""]]);d(r.tokens[0],"element");ra(r.tokens,r.dictURI);r.unpredictable=!!z(r.tokens,r,k);delete r.defines;delete r.l10nResolved;m.length||(r.warns=!1);return r}}(),r={".css":!0},y=t(null,{className:d+".Template",__extend__:function(a){return a instanceof y?a:a instanceof D?new ra(a):new y(a)},source:"",baseURI:"",init:function(a){if(4096==J.length)throw 30;this.attaches_=[];this.setSource(a||"");this.templateId=J.push(this)-1},bindingBridge:{attach:function(a,b,c){for(var k=0,e;e=a.attaches_[k];k++)if(e.handler==b&&e.context==c)return;a.attaches_.push({handler:b,context:c})},detach:function(a,b,c){for(var k=0,e;e=a.attaches_[k];k++)if(e.handler==b&&e.context==c){a.attaches_.splice(k,1);break}},get:function(){}},createInstance:function(a,b,c,k,e){T.call(this);return this.createInstance(a,b,c,k,e)},clearInstance:function(a){},getBinding:function(a){T.call(this);return this.getBinding(a)},setSource:function(b){var c=this.source;if(c!=b){if("string"==typeof b){var k=b.match(/^([a-z]+):/);if(k){var e=k[1];b=b.substr(k[0].length);switch(e){case"file":b=a.resource(b);break;case"id":b=ea(b);break;case"tokens":b=a.string.toObject(b);b.isDecl=!0;break;case"path":b=x(b)}}}if(c&&c.bindingBridge){if(k=c.url&&q[c.url])A(k,this),k.length||delete q[c.url];this.baseURI="";this.source.bindingBridge.detach(c,w,this)}b&&b.bindingBridge&&(b.url&&(this.baseURI=I.dirname(b.url)+"/",q[b.url]||(q[b.url]=[]),L(q[b.url],this)),b.bindingBridge.attach(b,w,this));this.source=b;w.call(this)}},destroy:function(){this.destroyBuilder&&this.destroyBuilder();this.source=this.resources=this.getBinding=this.createInstance=this.attaches_=null}}),D=function(b){a.object.extend(this,b)},ra=a.Class(null,{className:d+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:y,ruleEvents:null,rule:String,init:function(a){this.ruleRet_=[];this.templates_=[];this.rule=a.rule;if((a=a.events)&&a.length){this.ruleEvents={};for(var b=0,c;c=a[b];b++)this.ruleEvents[c]=!0}ga.add(this)},resolve:function(a){a=this.rule(a);var b=this.ruleRet_.indexOf(a);-1==b&&(this.ruleRet_.push(a),b=this.templates_.push(new this.templateClass(a))-1);return this.templates_[b]},destroy:function(){this.ruleRet_=this.templates_=this.rule=null}}),oa=t(null,{className:d+".Theme",get:x}),O=t(a.Token,{className:d+".SourceWrapper",path:"",url:"",baseURI:"",init:function(b,c){this.path=c;a.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var a=X(ha,this.path);this.value!=a&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,O.prototype.apply,this),this.url=(this.value=a)&&a.url||"",this.baseURI=("object"==typeof a||"function"==typeof a)&&"baseURI"in a?a.baseURI:I.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,O.prototype.apply,this),this.apply())},destroy:function(){this.baseURI=this.url=null;this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this);a.Token.prototype.destroy.call(this)}}),z={},pa={},ja=W(),ha="base",P=[];ga.add({destroy:function(){for(var a in pa)pa[a].destroy();pa=z=null;a=0;for(var b;b=J[a];a++)b.destroy();J=null}});Y.exports={DECLARATION_VERSION:2,TYPE_ELEMENT:b,TYPE_ATTRIBUTE:l,TYPE_ATTRIBUTE_CLASS:g,TYPE_ATTRIBUTE_STYLE:5,TYPE_ATTRIBUTE_EVENT:G,TYPE_TEXT:h,TYPE_COMMENT:N,TOKEN_TYPE:$,TOKEN_BINDINGS:E,TOKEN_REFS:s,ATTR_NAME:S,ATTR_VALUE:R,ATTR_NAME_BY_TYPE:ka,ELEMENT_NAME:3,ELEMENT_ATTRS:e,ELEMENT_CHILDS:5,TEXT_VALUE:3,COMMENT_VALUE:3,L10nProxyToken:k,TemplateSwitchConfig:D,TemplateSwitcher:ra,Template:y,SourceWrapper:O,switcher:function(b,c){var k=a.array(arguments);c=k.pop();return new D({rule:c,events:k.join(" ").trim().split(/\s+/)})},tokenize:qa,getDeclFromSource:U,makeDeclaration:m,getL10nTemplate:F,Theme:oa,theme:W,getThemeList:function(){return a.object.keys(z)},currentTheme:function(){return z[ha].theme},setTheme:function(a){return W(a).apply()},onThemeChange:function(a,b,c){P.push({fn:a,context:b});c&&a.call(b,ha)},define:ja.define,get:x,getPathList:function(){return a.object.keys(pa)}}},"6.js":function(d,Y,a,t,ca,la,ma,na){function F(b){b=a.template.getL10nTemplate(b);var e=b.templateId,f=B[e];f||(f=B[e]=new M(b.source));return f}function V(a){return function(b){if("click"!=b.type||3!=b.which){for(var e=E[b.type]||"mouseenter"!=b.type&&"mouseleave"!=b.type,f=b.sender,d;f;){d=f.getAttribute&&f.getAttribute(a);if(!e||"string"==typeof d)break;f=f.parentNode}if("string"==typeof d){var g=f,e=g,h,p;E[b.type]&&(h=b.relatedTarget)&&(g===h||g.contains(h))&&(g=null);for(;g;){h=g.basisTemplateId;if("number"==typeof h&&(p=da(h)))break;g=g.parentNode}if(p&&p.action)for(d=d.trim().split(/\s+/),b.actionTarget=e,e=0;g=d[e++];)p.action.call(p.context,g,b)}if(b.type in $)$[b.type](b,f)}}}function da(a){var b=h[a&4095];return b&&b.instances[a>>12]}a.require("./7.js");a.require("./1.js");a.require("./5.js");a.require("./8.js");d=this.path;var w=t.document,Z=a.dom.event,U=a.string.camelize,T=a.l10n.token,ea=a.template.htmlfgen.getFunctions,x=a.template.TemplateSwitchConfig;ca=a.template.TemplateSwitcher;la=a.template.Template;var fa=a.template.TYPE_ELEMENT,X=a.template.TYPE_ATTRIBUTE,W=a.template.TYPE_TEXT,ga=a.template.TYPE_COMMENT,I=a.template.TOKEN_TYPE,aa=a.template.TOKEN_BINDINGS,L=a.template.TOKEN_REFS,A=a.template.ATTR_NAME,J=a.template.ATTR_VALUE,q=a.template.ATTR_NAME_BY_TYPE,b=a.template.ELEMENT_NAME,l=a.template.TEXT_VALUE,g=a.template.COMMENT_VALUE,G={},h={},N={svg:"http://www.w3.org/2000/svg"},$={},E={},s="onmouseenter"in w.documentElement,S=!w.addEventListener&&"__basisTemplate"+parseInt(1E9*Math.random());S&&(t[S]=function(a,b){Z.fireEvent(w,a);b.returnValue=!0;var e=G[a];e&&e(new Z.Event(b))});var R=function(){var a=w.createElement("div");a.appendChild(w.createTextNode("a"));a.appendChild(w.createTextNode("a"));return 1==a.cloneNode(!0).childNodes.length}(),ba=function(){var a=w.createElement("div");a.setAttribute("class","a");return!a.className}(),ka=function(){var a=w.createElement("div");a.setAttribute("style","position:absolute");return"absolute"!=a.style.position}(),ia;a:{try{ia=w.documentElement.style.color="x";break a}catch(Q){}ia=void 0}var e=!!ia;"undefined"==typeof Node||Node.prototype.contains||(Node.prototype.contains=function(a){return!!(this.compareDocumentPosition(a)&16)});var B={},H=function(a,e){function f(a,b){d(b);E[a]=!0;$[b]=function(b){b=new Z.Event(b);b.type=a;G[a](b)};$[a]=function(b,c){if(c=c&&c.parentNode)b=new Z.Event(b),b.type=a,b.sender=c,G[a](b)}}function d(a){if(!G[a]&&(G[a]=V("event-"+a),!S)){if(!s&&"mouseenter"==a)return f(a,"mouseover");if(!s&&"mouseleave"==a)return f(a,"mouseout");for(var b=0,c=Z.browserEvents(a),k;k=c[b];b++)Z.addGlobalHandler(k,G[a])}}function h(a,b){d(a);S&&t.setAttribute("on"+a,S+'("'+a+'",event)');t.setAttribute("event-"+a,b)}function B(a,b){ba&&"class"==a&&(a="className");if(ka&&"style"==a)return t.style.cssText=b;t.setAttribute(a,b)}for(var t=e||w.createDocumentFragment(),p=e?4:0,k;k=a[p];p++)switch(k[I]){case fa:var m=k[b],r=m.split(/:/),m=1<r.length?w.createElementNS(N[r[0]],m):w.createElement(m);H(k,m);t.appendChild(m);break;case X:var m=k[A],r=k[J],y=m.replace(/^event-/,"");y!=m?h(y,r):("class"!=m&&"style"!=m?!k[aa]:r)&&B(m,r||"");break;case 4:case 5:(r=k[J-1])&&B(q[k[I]],r);break;case 6:h(k[1],k[2]||k[1]);break;case ga:t.appendChild(w.createComment(k[g]||(k[L]?"{"+k[L].join("|")+"}":"")));break;case W:R&&p&&a[p-1][I]==W&&t.appendChild(w.createComment("")),t.appendChild(w.createTextNode(k[l]||(k[L]?"{"+k[L].join("|")+"}":"")||(k[aa]?"{"+k[aa]+"}":"")))}return t};ia=function(){function b(){this.set(this.name,this.value)}function f(e,k,m){var r=k&&k.bindingBridge,d=this.attaches&&this.attaches[e],D=null;if(r||d)if(r){if(d&&k===d.value)D=k&&"markup"==k.type?d.tmpl:null;else{d&&(d.tmpl&&(d.tmpl.element.toString=null,F(d.value).clearInstance(d.tmpl)),d.value.bindingBridge.detach(d.value,b,d));if("markup"==k.type&&k instanceof a.l10n.Token){var g=F(k),h=this.context,n=this.bindings,z=this.bindingInterface,D=g.createInstance(h,null,function ha(){D=l.tmpl=g.createInstance(h,null,ha,n,z);D.element.toString=function(){return k.value};b.call(l)},n,z);D.element.toString=function(){return k.value}}this.attaches||(this.attaches=new m);var l=this.attaches[e]={name:e,value:k,tmpl:D,set:this.tmpl.set};r.attach(k,b,l)}if(D)return D.element;k=r.get(k)}else d&&(d.tmpl&&(d.tmpl.element.toString=null,F(d.value).clearInstance(d.tmpl)),d.value.bindingBridge.detach(d.value,b,d),this.attaches[e]=null);return k}function d(a,b){return function(c){for(var e=0,f;f=a[e];e++)this(f,b[f](c))}}var g=/\s+/,l="function"==typeof Node&&w instanceof Node?function(a,b,c){a=c&&c instanceof Node?c:a;a!==b&&b.parentNode.replaceChild(a,b);return a}:function(a,b,c){c=c&&"object"==typeof c?c:a;if(c!==b)try{b.parentNode.replaceChild(c,b)}catch(e){c=a,b!==c&&b.parentNode.replaceChild(c,b)}return c},q=function(a,b,c,e){c!==e&&(e?a.setAttribute(b,e):a.removeAttribute(b));return e},B={bind_textNode:function(a,b,c){b=l(a,b,c);b===a&&(a.nodeValue=c);return b},bind_node:l,bind_element:function(a,b,c){b=l(a,b,c);b===a&&"string"==typeof c&&(a.innerHTML=c);return b},bind_comment:l,bind_attr:q,bind_attrClass:t.DOMTokenList&&w&&w.documentElement.classList instanceof t.DOMTokenList?function(b,c,e,r,f){var d=e?r+e:"";d!=c&&(c&&b.classList.remove(c),d&&(b.classList.add(d),f&&(b.classList.add(d+"-anim"),a.nextTick(function(){b.classList.remove(d+"-anim")}))));return d}:function(b,c,e,r,f){var d=e?r+e:"";if(d!=c){e=b.className;var h="string"!=typeof e;h&&(e=e.baseVal);e=e.split(g);c&&a.array.remove(e,c);d&&(e.push(d),f&&(a.array.add(e,d+"-anim"),a.nextTick(function(){var c=(h?b.className.baseVal:b.className).split(g);a.array.remove(c,d+"-anim");h?b.className.baseVal=c.join(" "):b.className=c.join(" ")})));h?b.className.baseVal=e.join(" "):b.className=e.join(" ")}return d},bind_attrStyle:e?function(a,b,c,e){c!==e&&(a.style[U(b)]=e);return e}:function(a,b,c,e){if(c!==e)try{a.style[U(b)]=e}catch(f){}return e},resolve:f,l10nToken:T,createBindingFunction:function(a){var b={};return function(c,e,f,D){if(!c)return{};var g="bindingId"in c?c.bindingId:null,h=b[g];if(!h){for(var h=[],l={},z={},q=0,B;B=a[q];q++){var ha=c[B],P=ha&&ha.getter;if(P&&(l[B]=P,h.push(B),ha.events))for(var ha=String(ha.events).trim().split(/\s+|\s*,\s*/),P=0,u;u=ha[P];P++)z[u]?z[u].push(B):z[u]=[B]}c=d(h,l);for(var s in z)z[s]=d(z[s],l);h={names:h,sync:c,handler:s?z:null};g&&(b[g]=h)}e&&f&&h.sync.call(f,e);if(D)return h.handler&&D.attach(e,h.handler,f),h.handler}}};return function(a){var b=ea(a,!0,this.source.url,a.source_,!R),c,e={},d={},D=[],g=0,n=H(a),l=function(){return n.cloneNode(!0)},z=this.templateId;h[z]={template:this,instances:e};if(b.createL10nSync){var u=b.createL10nSync(n,d,q,R);a=0;for(var s;s=b.l10nKeys[a];a++)u(s,T(s).value);if(b.l10nKeys)for(a=0;s=b.l10nKeys[a];a++)s={path:s,token:T(s),handler:function(a){u(this.path,a);for(var b in e)e[b].tmpl.set(this.path,a)}},s.token.attach(s.handler,s),D.push(s),s=null}c=b.createInstance(z,e,l,B,d,R);return{createInstance:function(a,b,k,f,d){var y=g++;a=c(y,a,b,k,f,d);e[y]=a;return a.tmpl},destroyInstance:function(a){a=a.templateId_;var b=e[a];if(b){b.handler&&b.bindingInterface.detach(b.context,b.handler,b.tmpl.set);for(var c in b.attaches)f.call(b,c,null);delete e[a]}},keys:b.keys,destroy:function(a){for(var c=0,m;m=D[c];c++)m.token.detach(m.handler,m);for(var g in e)if(c=e[g],a&&c.rebuild&&c.rebuild.call(c.context),!a||g in e)for(g in c.handler&&c.bindingInterface.detach(c.context,c.handler,c.tmpl.set),c.attaches)f.call(g,null);h[z]&&h[z].instances===e&&delete h[z];e=u=D=d=n=l=b=null}}}}();var M=la.subclass({className:d+".Template",__extend__:function(a){return a instanceof M?a:a instanceof x?new f(a):new M(a)},builder:ia}),f=ca.subclass({className:d+".TemplateSwitcher",templateClass:M});Y.exports={Template:M,TemplateSwitcher:f};a.template.extend({buildHtml:H,resolveTemplateById:function(a){return(a=h[a&4095])&&a.template},resolveObjectById:function(a){return(a=da(a))&&a.context},resolveTmplById:function(a){return(a=da(a))&&a.tmpl}})},"7.js":function(d,Y,a,t,ca,la,ma,na){function F(a){return a instanceof R?a.event_:a||t.event}function V(a){return"string"==typeof a?l.getElementById(a):a}function da(a){a=a.target||a.srcElement||l;return 3==a.nodeType?a.parentNode:a}function w(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Z(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function U(a,b){(b=V(b))?A(b,a,U):(Z(a),w(a))}function T(a){return a.keyCode||a.which||0}function ea(a){return a.charCode||a.keyCode||0}function x(a,b){return"number"==typeof a.which?a.which==b.VALUE:!!(a.button&b.BIT)}function fa(a){return a.changedTouches?a.changedTouches[0].pageX:"pageX"in a?a.pageX:"clientX"in a?a.clientX+("CSS1Compat"==l.compatMode?l.documentElement.scrollLeft:l.body.scrollLeft):0}function X(a){return a.changedTouches?a.changedTouches[0].pageY:"pageY"in a?a.pageY:"clientY"in a?a.clientY+("CSS1Compat"==l.compatMode?l.documentElement.scrollTop:l.body.scrollTop):0}function W(a){var b=0;"wheelDelta"in a?b=a.wheelDelta:"DOMMouseScroll"==a.type&&(b=-a.detail);return b&&b/Math.abs(b)}function ga(a){var b=G(ba[a.type]),d=ka[a.type],g=new R(a);if(d)d.handler.call(d.thisObject,g),U(a);else if(b)for(a=b.length;0<a--;)d=b[a],d.handler.call(d.thisObject,g)}function I(a){var b=ka[a];b&&(L(a,b.handler,b.thisObject),delete ka[a])}function aa(a,b,d){var h=ba[a];if(h){a=0;for(var f;f=h[a];a++)if(f.handler===b&&f.thisObject===d)return}else ia?A(l,a,g):l.addEventListener(a,ga,!0),h=ba[a]=[];h.push({handler:b,thisObject:d})}function L(a,b,d){var h=ba[a];if(h)for(var f=0,c;c=h[f];f++)if(c.handler===b&&c.thisObject===d){h.splice(f,1);h.length||(delete ba[a],ia?J(l,a,g):l.removeEventListener(a,ga,!0));break}}function A(a,b,d,g){a=V(a);if(!a)throw 32;if("function"!=typeof d)throw 33;a[N]||(a[N]={});var f={handler:d,thisObject:g},c=a[N],l=c[b];if(l){for(a=0;c=l[a];a++)if(c.handler===d&&c.thisObject===g)return;l.push(f)}else l=c[b]=[f],l.fireEvent=function(a){a=F(a);if(ia&&a&&ba[b]&&"undefined"==typeof a.returnValue){ga(a);if(!0===a.cancelBubble)return;"undefined"==typeof a.returnValue&&(a.returnValue=!0)}var c=0;a=new R(a);for(var e;e=l[c++];)e.handler.call(e.thisObject,a)},h?a.addEventListener(b,l.fireEvent,!1):a.attachEvent("on"+b,l.fireEvent)}function J(a,b,d,h){a=V(a);var f=a[N];if(f&&(f=f[b]))for(var c=0,g;g=f[c];c++)if(g.handler===d&&g.thisObject===h){f.splice(c,1);f.length||q(a,b);break}}function q(a,b){a=V(a);var d=a[N];if(d)if("string"!=typeof b)for(b in d)q(a,b);else{var g=d[b];g&&(a.removeEventListener?a.removeEventListener(b,g.fireEvent,!1):a.detachEvent("on"+b,g.fireEvent),delete d[b])}}function b(a){return function(b,d){return a(F(b),d)}}var l=t.document,g=a.fn.$null,G=a.array.from,h=!!l.addEventListener,N="__basisEvents";d={BACKSPACE:8,TAB:9,CTRL_ENTER:10,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};var $={VALUE:1,BIT:1},E={VALUE:2,BIT:4},s={VALUE:3,BIT:2},S={mousewheel:["mousewheel","DOMMouseScroll"]},R=a.Class(null,{className:this.path+".Event",KEY:d,init:function(b){b=F(b);for(var d in b)"function"!=typeof b[d]&&!1==d in this&&(this[d]=b[d]);a.object.extend(this,{event_:b,sender:da(b),key:T(b),charCode:ea(b),mouseLeft:x(b,$),mouseMiddle:x(b,E),mouseRight:x(b,s),mouseX:fa(b),mouseY:X(b),wheelDelta:W(b)})},stopBubble:function(){w(this.event_)},stopPropagation:function(){w(this.event_)},preventDefault:function(){Z(this.event_)},die:function(){this.stopBubble();this.preventDefault()}}),ba={},ka={},ia=!h,Q={};Y.exports={W3CSUPPORT:h,browserEvents:function(a){return S[a]||[a]},getEventInfo:function(a,b){b||(b="div");var d=b+"-"+a;if(Q[d])return Q[d];var g=!1,f=!1;if(!h){var c="on"+a,q=l.createElement("div"),n=q.appendChild(l.createElement(b));q[c]=function(){f=!0};try{n.fireEvent(c),g=!0}catch(s){}}return Q[d]={supported:g,bubble:f}},KEY:d,MOUSE_LEFT:$,MOUSE_RIGHT:s,MOUSE_MIDDLE:E,Event:R,sender:b(da),cancelBubble:b(w),cancelDefault:b(Z),kill:b(U),key:b(T),charCode:b(ea),mouseButton:b(x),mouseX:b(fa),mouseY:b(X),wheelDelta:b(W),addGlobalHandler:aa,removeGlobalHandler:L,captureEvent:function(a,b,d){ka[a]&&I(a);aa(a,b,d);ka[a]={handler:b,thisObject:d}},releaseEvent:I,addHandler:A,addHandlers:function(a,b,d){a=V(a);for(var g in b)A(a,g,b[g],d)},removeHandler:J,clearHandlers:q,fireEvent:function(a,b,d){a=V(a);(a=a[N])&&a[b]&&a[b].fireEvent(d)},onUnload:function(a,b){A(t,"unload",a,b)},wrap:F}},"8.js":function(d,Y,a,t,ca,la,ma,na){function F(a,d){return new Function(a,d)}a.require("./5.js");var V=a.template.TYPE_ELEMENT,da=a.template.TYPE_ATTRIBUTE,w=a.template.TYPE_TEXT,Z=a.template.TYPE_COMMENT,U=a.template.TOKEN_TYPE,T=a.template.TOKEN_BINDINGS,ea=a.template.TOKEN_REFS,x=a.template.ATTR_NAME,fa=a.template.ATTR_NAME_BY_TYPE,X=a.template.ELEMENT_NAME,W=a.template.ELEMENT_ATTRS,ga={},I=function(){function a(b,d){for(var g=0,h;h=b[g];g++)-1==h.indexOf(":")&&l.push(h+":"+d)}function d(a){var g=b.length,g=q[g]||"r"+g;b.push(g+"="+a);return g}function t(l,q,E){for(var s,S,R,ba,F=0,I=0,Q=0,e;e=l[F];F++,I++,ba=!1){F?l[F+1]?(e[U]==l[F-1][U]&&e[U]==w&&Q++,s=q+".childNodes["+(E?I:I+(Q?" + "+Q+" * TEXT_BUG":""))+"]"):s=q+".lastChild":s=q+".firstChild";if(S=e[ea])ba=!0,s=d(s),a(S,s);e[T]&&(e[T]&&"number"==typeof e[T]&&(e[T]=e[ea][e[T]-1]),ba||(ba=!0,s=d(s)),g.push([e[U],s,e[T]]));if(e[U]==V){R=-1;q==h&&G.push(s+".basisTemplateId");ba||(s=d(s),R=b.length);for(var B=[],H=[],M=W,f;f=e[M];M++)f[U]==V||f[U]==w||f[U]==Z?H.push(f):B.push(f);for(var M=0,c;c=B[M];M++)if(6!=c[U]){f=fa[c[U]]||c[x];if(S=c[ea])ba=!0,a(S,d(s+'.getAttributeNode("'+f+'")'));if(S=c[T])switch(ba=!0,f){case"class":c=0;for(var C;C=S[c];c++)C=[2,s,C[1],f,C[0]].concat(C.slice(2)),g.push(C);break;case"style":for(c=0;C=S[c];c++)for(var n=0,v;v=C[0][n];n++)g.push([2,s,v,f,C[0],C[1],C[2]]);break;default:for(c=0;v=S[0][c];c++)g.push([2,s,v,f,S[0],S[1],e[X]])}}H.length&&t(H,s,E);ba||R!=b.length||b.pop()}}}var q="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),b,l,g,G,h;return function(a,d,q){b=[];l=[];g=[];G=[];h=d||"_";t(a,h,q);return{path:b,ref:l,binding:g,markedElementList:G}}}(),aa=function(){function d(a,b,q){var h=[],w=a[5];a=a[4];for(var x,E,s=0;s<w.length;s++)if("string"==typeof w[s])h.push('"'+w[s].replace(/"/g,'\\"')+'"');else if(x=a[w[s]],E=x.indexOf(":"),-1==E)h.push("l10n"==b?'"{'+x+'}"':"bool"==b?"(__"+x+'||"")':"__"+x);else{var J=null,L=x.substr(E+1).replace(t,function(a,b){J=b;return""});J?h.push(q[x.substr(E+1)]):h.push('__l10n["'+L+'"]')}1==h.length&&h.push('""');return h.join("+")}
var t=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,J={disabled:"*",checked:["input"],value:["input","textarea"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"],multiple:["select"]},q={disabled:!0,checked:!0,selected:!0,readonly:!0,multiple:!0},b={1:"bind_element",3:"bind_textNode",8:"bind_comment"};return function(l){function g(b){U[b]=!0;h.push(N+"="+b+"("+a.array(arguments,1)+");")}for(var G={},h,N,F=[],E=[],s,S,R=[],I={},T=1,U={resolve:!0},Q,e=0,B;B=l[e];e++){var H=B[0],M=B[1],f=B[2];if(-1==["set","templateId_"].indexOf(f)){var c=f.split(":");(Q="anim"==c[0])&&(f=c[1]);h=G[f];N="_"+e;s="__"+f;if("l10n"==c[0]&&c[1]){var c=c[1],C=null,n=c.replace(t,function(a,b){C=b;return""});if(C){!1==c in I&&(s="$l10n_"+T++,I[c]=s,R.push('set("'+s+'",'+s+")"),F.push(s+'=tools.l10nToken("'+n+'").computeToken()'),h=G[C],h||(h=G[C]=[],F.push("__"+C)),h.push(s+".set(__"+C+");"));f=I[c];N="_"+e;s="__"+f;h=G[f];h||(h=G[f]=[],F.push(s));H==w?(F.push(N+"="+M),g(b[H],M,N,"value")):(s='"'+
B[x]+'"',F.push(N),g("bind_attr",M,s,N,d(B,!1,I)));continue}S||(S={});G[n]||(G[n]=[],S[n]=[]);h=G[n];h.l10n=!0;if(H==w){S[n].push(M+".nodeValue=value;");h.push(M+'.nodeValue=__l10n["'+n+'"]'+(C?"[__"+C+"]":"")+";");continue}else S[n].push("bind_attr("+[M,'"'+B[x]+'"',"NaN",d(B,"l10n",I)]+");")}h||(h=G[f]=[],F.push(s));if(H!=da)if(h.nodeBind)switch(H){case V:g(b[H],M,M,"value!==null?String(value):null");break;case w:h.push(M+".nodeValue=value;")}else F.push(N+"="+M),g(b[H],M,N,"value"),h.nodeBind=N;else switch(s=B[x],s){case"class":s="";c="value";H=B[4];c=B.length;if(6<=c)if(6==c||"string"==typeof B[6])6==c?(c='value?"'+f+'":""',B[5]&&(s=H+f)):(H="",c='value?"'+B[6]+'":""',B[5]&&(s=B[6]));else{if(!B[6].length)continue;7==c?(c=B[6].map(function(a){return'value=="'+a+'"'}).join("||")+'?value:""',B[5]&&(s=H+B[6][B[5]-1])):(H="",c=B[6].map(function(a,b){return'value=="'+a+'"?"'+this[b]+'"'},B[7]).join(":")+':""',B[5]&&(s=B[7][B[5]-1]))}else c='typeof value=="string"||typeof value=="number"?value:(value?"'+
f+'":"")';F.push(N+'="'+s+'"');g("bind_attrClass",M,N,c,'"'+H+'"',Q);break;case"style":F.push(N+'=""');g("bind_attrStyle",M,'"'+B[6]+'"',N,d(B,!1,I));break;default:Q=J[s],F.push(N+"="+d(B,"l10n",I)),g("bind_attr",M,'"'+s+'"',N,Q&&q[s]?d(B,"bool",I)+'?"'+s+'":""':d(B,!1,I)),!Q||"*"!=Q&&-1==Q.indexOf(B[6].toLowerCase())||h.push("if("+M+"."+s+"!="+N+")"+M+"."+s+"="+(q[s]?"!!"+N:N)+";")}}}E.push(';function set(bindName,value){if(typeof bindName!="string")');for(f in G)G[f].nodeBind&&E.push("if(bindName==="+
G[f].nodeBind+')bindName="'+f+'";else ');E.push("return;");E.push("value=resolve.call(instance,bindName,value,Attaches);switch(bindName){");for(f in G)E.push('case"'+f+'":'+(G[f].l10n?G[f].join(""):"if(__"+f+"!==value){__"+f+"=value;"+G[f].join("")+"}")+"break;");E.push("}}");l=[];for(var v in U)l.push(v+"=tools."+v);return{keys:a.object.keys(G).filter(function(a){return-1==a.indexOf("@")}),tools:l,vars:F,set:E.join(""),l10n:S,l10nCompute:R}}}();Y.exports={getFunctions:function(d,t,w,q,b){if(t=ga[w&&a.path.relative(w)])return t;d=I(d,"_",b);b=aa(d.binding);t=d.markedElementList.join("=");w={keys:b.keys,l10nKeys:a.object.keys(b.l10n)};if(b.l10n){q=[];for(var l in b.l10n)q.push('case"'+l+'":if(value==null)value="{'+l+'}";__l10n[token]=value;'+b.l10n[l].join("")+"break;");w.createL10nSync=F(["_","__l10n","bind_attr","TEXT_BUG"],"var "+d.path+";return function(token, value){switch(token){"+q.join("")+"}}\n")}w.createInstance=F("tid map build tools __l10n TEXT_BUG".split(" "),"var getBindings=tools.createBindingFunction(["+
b.keys.map(function(a){return'"'+a+'"'})+"]),"+(b.tools.length?b.tools+",":"")+"Attaches=function(){};Attaches.prototype={"+b.keys.map(function(a){return a+":null"})+"};return function createInstance_(id,obj,onAction,onRebuild,bindings,bindingInterface){var _=build(),"+d.path.concat(b.vars)+",instance={context:obj,action:onAction,rebuild:onRebuild,handler:null,bindings:bindings,bindingInterface:bindingInterface,attaches:null,tmpl:{"+[d.ref,"templateId_:id","set:set"]+"}}"+(t?";if(obj||onAction)"+
t+"=(id<<12)|tid":"")+b.set+";instance.handler=bindings?getBindings(bindings,obj,set,bindingInterface):null;"+b.l10nCompute+";return instance}");return w}}}};(function(d){function Y(a,b){for(var c in b)a[c]=b[c];return a}function a(a,b){for(var c in b)!1==c in a&&(a[c]=b[c]);return a}function t(a){var b=[],c;for(c in a)b.push(c);return b}function ca(a,b){var c={};if(!b)return Y(c,a);for(var d=0,e;e=b[d++];)e in a&&(c[e]=a[e]);return c}function la(){return T(arguments).reduce(Y,{})}function ma(a,b,c){var d=[],e;for(e in a)d.push(b.call(c,e,a[e]));return d}function na(a){return a}function F(){}function V(a){var b=N[a.url];if(b)for(var c=0;c<b.length;c++)b[c](a.get(),a.url)}function da(a,b,c){try{return new Function(b,c)}catch(d){ga.error("Compilation error at "+a+("line"in d?":"+(d.line-1):"")+": "+d)}}function w(a){var b=a.split(".")[0],c=a.replace(/\./g,"/")+".js";!1==a in R&&(!1==b in ka&&(ka[b]=A.baseURI),b==a&&(ba[ka[b]+c]=b),R[a]=ka[b]+c);return R[a]}function Z(a){a=a.split(".");var b;b=a[0];var c=S[b];c||(c=S[b]=new ia(b),c.namespaces_={},c.namespaces_[b]=c,J.noConflict||(d[b]=c));for(var c=b=c,e=1,f;f=a[e];e++){if(!c[f]){var g=a.slice(0,e+1).join(".");c[f]=new ia(g);b.namespaces_[g]=c[f]}c=c[f]}return S[a.join(".")]=c}function U(a,b){if(J.extProto)for(var c in b)a.prototype[c]=function(a,c){return function(){var c=[this];Array.prototype.push.apply(c,arguments);return b[a].apply(b,c)}}(c,a.name||a.toString().match(/^\s*function\s*(\w*)\s*\(/)[1])}function T(a,b){if(null!=a){var c=a.length;if("undefined"==typeof c||"[object Function]"==fa.call(a))return[a];b||(b=0);if(0<c-b){for(var d=[],e=0,f=b;f<c;)d[e++]=a[f++];return d}}return[]}function ea(a,b,c){for(var d=[],e="function"==typeof b,f=0;f<a;f++)d[f]=e?b.call(c,f,d):b;return d}var x=d.document,fa=Object.prototype.toString,X=function(){function a(b){if(c.test(b)){var k=b.split("."),d=k[0],e=k[1],f=k[2];switch(k.length){case 1:b=function(a){return null!=a?a[d]:a};break;case 2:b=function(a){return null!=a?a[d][e]:a};break;case 3:b=function(a){return null!=a?a[d][e][f]:a};break;default:b=function(a){if(null!=a){a=a[d][e][f];for(var b=3,c;c=k[b];b++)a=a[c]}return a}}return b}return new Function("object","return object != null ? object."+b+" : object")}var b=1,c=/^[a-z$_][a-z$_0-9]*(\.[a-z$_][a-z$_0-9]*)*$/i,d=[],e={},g={};return function(c,r){var h,l,p;if(!c||c===W)return W;"function"==typeof c?(p=c.basisGetterId_)?h=d[Math.abs(p)-1]:(h=function(a){return c(a)},h.base=c,h.__extend__=X,p=d.push(h),c.basisGetterId_=-p,h.basisGetterId_=p):(h=e[c])?p=h.basisGetterId_:(h=a(c),h.base=c,h.__extend__=X,p=d.push(h),h.basisGetterId_=p,e[c]=h);l=null!=r&&typeof r;if(!l)return h;var n=g[p],q;if("string"==l)q=l+r;else if("function"==l)q=r.basisModId_;else if("object"!=l)return h;if(q&&n&&n[q])return n[q];"function"==typeof h.base&&(h=h.base);switch(l){case"string":l=function(a){return f.format(r,h(a))};break;case"function":q||(q=l+b++,r.basisModId_=q);l=function(a){return r(h(a))};break;default:l=function(a){return r[h(a)]}}l.base=h.base||h;l.__extend__=X;q&&(n||(n={},g[p]=n),n[q]=l,l.mod=r,l.basisGetterId_=d.push(l));return l}}(),W=Y(function(){},{__extend__:X}),ga=function(){var a={log:F,info:F,warn:F,error:F};"undefined"!=typeof console&&ma(a,function(b){a[b]="bind"in Function.prototype&&"function"==typeof console[b]?Function.prototype.bind.call(console[b],console):function(){Function.prototype.apply.call(console[b],console,arguments)}});return a}(),I=d.setImmediate||d.msSetImmediate,aa=d.clearImmediate||d.msSetImmediate;I&&(I=I.bind(d));aa&&(aa=aa.bind(d));I||function(){var a=function(){var a={},c=1;I=function(){a[++c]={fn:arguments[0],args:T(arguments,1)};b(c);return c};aa=function(b){delete a[b]};return function(b){var c=a[b];if(c)try{"function"==typeof c.fn?c.fn.apply(void 0,c.args):(d.execScript||function(a){d.eval.call(d,a)})(String(c.fn))}finally{delete a[b]}}}(),b=function(b){setTimeout(function(){a(b)},0)};if(d.process&&"function"==typeof process.nextTick)b=function(b){process.nextTick(function(){a(b)})};else if(d.MessageChannel)b=function(b){var c=new d.MessageChannel;c.port1.onmessage=function(){a(b)};c.port2.postMessage("")};else{var c=d.postMessage&&!d.importScripts;if(c){var e=d.onmessage;d.onmessage=function(){c=!1};d.postMessage("","*");d.onmessage=e}if(c)e=function(b){b&&b.source==d&&(b=String(b.data).split("basisjs.setImmediate")[1])&&a(b)},d.addEventListener?d.addEventListener("message",e,!0):d.attachEvent("onmessage",e),b=function(a){d.postMessage("basisjs.setImmediate"+a,"*")};else if(x&&"onreadystatechange"in x.createElement("script"))var f=b,b=function oa(c){"undefined"!=typeof u&&(b=f,u.head.ready(function(){b=function(b){var c=x.createElement("script");c.onreadystatechange=function(){a(b);c.onreadystatechange=null;u.remove(c);c=null};u.head.add(c)}}));b===oa?f(c):b(c)}}}();var L="object"==typeof process&&"[object process]"==fa.call(process),A=function(){var a=/^([^\/]+:|\/)/,b=/^[a-zA-Z0-9\-]+:\/?/,c=/^(?:[a-zA-Z0-9\-]+:)?\/\/[^\/]+\/?/,d=/[\?#].*$/,e={},f="",h;L?(f=require("path").resolve(".").replace(/\\/g,"/"),h=f.replace(/^[^\/]*/,""),f=f.replace(/\/.*/,"")):(h=location.pathname.replace(/[^\/]+$/,""),f=location.protocol+"//"+location.host);return e={baseURI:h,origin:f,normalize:function(a){a=(a||"").replace(b,"/").replace(c,"/").replace(d,"");for(var k=[],e=a.split("/"),f=0;f<e.length;f++)".."==e[f]?(1<k.length||k[0])&&k.pop():!e[f]&&f||"."==e[f]||k.push(e[f]);return k.join("/")||("/"===a[0]?"/":"")},dirname:function(a){a=e.normalize(a);return a.replace(/\/([^\/]*)$|^[^\/]+$/,"")||("/"==a[0]?"/":".")},extname:function(a){return(a=e.normalize(a).match(/[^\/](\.[^\/\.]*)$/))?a[1]:""},basename:function(a,b){var c=e.normalize(a).match(/[^\\\/]*$/),c=c?c[0]:"";b==e.extname(c)&&(c=c.substring(0,c.length-b.length));return c},resolve:function(b,c){for(var d=T(arguments).reverse(),f=[],m=!1,r=0;!m&&r<d.length;r++)"string"==typeof d[r]&&(f.unshift(d[r]),m=a.test(d[r]));m||f.unshift("/"==h?"":h);return e.normalize(f.join("/"))},relative:function(a,b){"string"!=typeof b&&(b=a,a=h);a=e.normalize(a);b=e.normalize(b);if("/"==a[0]&&"/"!=b[0])return a;if("/"==b[0]&&"/"!=a[0])return b;for(var c=a.replace(/^\/$/,"").split(/\//),k=b.replace(/^\/$/,"").split(/\//),d=[],f=0;k[f]==c[f]&&"string"==typeof c[f];)f++;for(c=c.length-f;0<c;c--)d.push("..");return d.concat(k.slice(f).filter(Boolean)).join("/")}}}(),J={path:{basis:""}},q=function(){function a(b){return"function"==typeof b&&!!b.basisClassId_}function b(a){for(var c=this;c&&c!==a;)c=c.superClass_;return c===a}function c(g,p){var n=f++;"function"!=typeof g&&(g=l);var q=function(){};q.prototype=g.prototype;for(var q=new q,n={basisClassId_:n,superClass_:g,extendConstructor_:!!g.extendConstructor_,isSubclassOf:b,subclass:function(){return c.apply(null,[u].concat(T(arguments)))},extend:d,__extend__:function(b){return b&&b!==h&&("object"==typeof b||"function"==typeof b&&!a(b))?l.create.call(null,u,b):b},prototype:q},s=1,t;t=arguments[s];s++)n.extend(t);var u=n.extendConstructor_?function(a){this.basisObjectId=e.id++;var b,c;for(c in a)b=this[c],this[c]=b&&b.__extend__?b.__extend__(a[c]):a[c];this.init();this.postInit()}:function(){this.basisObjectId=e.id++;this.init.apply(this,arguments);this.postInit()};q.constructor=u;for(var O in q)q[O]===h&&(q[O]=u);Y(u,n);return u}function d(b){var c=this.prototype;"function"!=typeof b||a(b)||(b=b(this.superClass_.prototype));b.prototype&&(b=b.prototype);for(var e in b){var f=b[e],m=c[e];"className"==e||"extendConstructor_"==e?this[e]=f:c[e]=m&&m.__extend__?m.__extend__(f):f}g&&b[e="toString"]!==fa&&(c[e]=b[e]);return this}var e={id:1},f=1,h={},g=function(){for(var a in{toString:1})return!1;return!0}(),l=Y(c,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var a in this)hasOwnProperty.call(this,a)&&(this[a]=null);this.destroy=F}}}),p=function(a,b,c){return{__extend__:function(a){if(!a||a&&a.__extend__)return a;var c=function(){};c.prototype=this;c=new c;b(c,a);return c}}.__extend__(a||{})},n=function(a){return p(a,Y,"extensibleProperty")};return Y(l,{SELF:h,create:c,isClass:a,customExtendProperty:p,extensibleProperty:n,nestedExtendProperty:function(a){return p(a,function(a,b){for(var c in b){var k=a[c];a[c]=k&&k.__extend__?k.__extend__(b[c]):n(b[c])}},"nestedExtendProperty")},oneFunctionProperty:function(a,b){var c=function(b){var k={__extend__:c};if(b){if(b.__extend__)return b;for(var d in b)b[d]&&(k[d]=a)}return k};return c(b||{})}})}(),b=q(null,{className:"basis.Token",value:null,handler:null,deferredToken:null,bindingBridge:{attach:function(a,b,c){a.attach(b,c)},detach:function(a,b,c){a.detach(b,c)},get:function(a){return a.get()}},init:function(a){this.value=a},get:function(){return this.value},set:function(a){this.value!==a&&(this.value=a,this.apply())},attach:function(a,b){this.handler={fn:a,context:b,handler:this.handler}},detach:function(a,b){for(var c=this,d;d=c,c=c.handler;)if(c.fn===a&&c.context===b){c.fn=F;d.handler=c.handler;break}},apply:function(){for(var a=this.get(),b=this;b=b.handler;)b.fn.call(b.context,a)},deferred:function(){var a=this.deferredToken;a||(a=this.deferredToken=new g(this.value),this.attach(a.set,a));return a},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null);this.value=this.handler=null;this.detach=this.attach=F}}),l=function(){function a(){var k=b;b={};c=null;for(var d in k)k[d].apply()}var b={},c;return function(d){d.basisObjectId in b||(b[d.basisObjectId]=d,c||I(a))}}(),g=b.subclass({className:"basis.DeferredToken",set:function(a){this.value!==a&&(this.value=a,l(this))},deferred:function(){return this}}),G={},h={},N={};(function(){var a="undefined"!=typeof sa?sa:null;if(a){for(var b in a)h[A.resolve(b)]=a[b];sa=null}})();var $=function(a,b){if(b||!h.hasOwnProperty(a)){var c="";if(L)try{c=require("fs").readFileSync(a,"utf-8")}catch(d){}else{var e=new XMLHttpRequest;e.open("GET",a,!1);e.setRequestHeader("If-Modified-Since",(new Date(0)).toGMTString());e.setRequestHeader("X-Basis-Resource",1);e.send("");200<=e.status&&400>e.status&&(c=e.responseText)}h[a]=c}return h[a]},E=function(a){a=A.resolve(a);if(!G[a]){var c=E.extensions[A.extname(a)],d=!1,e=!1,f,g=function(){if(d)return f;var b=$(a);c?e||(e=!0,f=c(b,a)):f=b;d=!0;V(g);g.apply();return f};Y(g,Y(new b,{url:a,fetch:function(){return g()},toString:function(){return"[basis.resource "+a+"]"},isResolved:function(){return d},update:function(b){b=String(b);d&&b==h[a]||(h[a]=b,c?e&&!c.permanent&&(f=c(b,a),V(g),g.apply()):(f=b,d=!0,V(g),g.apply()))},reload:function(){var b=h[a],c=$(a,!0);c!=b&&(d=!1,g.update(c))},get:function(b){return b?$(a):g()},ready:function(a,b){if(d&&(a.call(b,g()),c&&c.permanent))return;g.attach(a,b);return g}}));G[a]=g}return G[a]};Y(E,{isResource:function(a){return a?G[a.url]===a:!1},isResolved:function(a){return(a=E.get(a))?a.isResolved():!1},exists:function(a){return G.hasOwnProperty(A.resolve(a))},get:function(a){a=A.resolve(a);return E.exists(a)?E(a):null},getFiles:function(a){return t(a?h:G).map(A.relative)},extensions:{".js":Y(function(b,c){var d=ba[c];if(!d){var e=!0,d=A.dirname(c)+"/"+A.basename(c,A.extname(c)),f;for(f in J.path){var g=J.path[f]+f+"/";if(c.substr(0,g.length)==g){e=!1;d=d.substr(J.path[f].length);break}}d=d.replace(/\./g,"_").replace(/^\//g,"").replace(/\//g,".");e&&(d="implicit."+d)}S[d]||(f=Z(d),f.exports=s({path:f.path,exports:f.exports},c,b).exports,f.exports&&f.exports.constructor===Object&&a(f,f.exports));return S[d].exports},{permanent:!0}),".css":function(a,b){var c=qa.resources[b];c?c.updateCssText(a):c=new qa(b);return c},".json":function(a,b){if("object"==typeof a)return a;var c;try{a=String(a),c=p.json.parse(a)}catch(d){}return c||null}}});var s=function(a,b,c){var e=A.dirname(b)+"/",f=c;a.exports||(a.exports={});"function"!=typeof f&&(f=da(b,"exports module basis global __filename __dirname resource require".split(" "),'"use strict";\n'+c));"function"==typeof f&&f.call(a.exports,a.exports,a,p,d,b,e,function(a){return E(A.resolve(e,a))},function(a,b){return Q(a,b||e)});return a},S={},R={},ba={},ka=ca(J.path);(function(a){if(a="undefined"!=typeof ta?ta:null)for(var b in a){var c=A.resolve(b),d=a[b];ba[c]=d;R[d]=c}})();var ia=q(null,{className:"basis.Namespace",init:function(a){this.name=a;this.exports={path:this.name}},toString:function(){return"[basis.namespace "+this.path+"]"},extend:function(b){Y(this.exports,b);return a(this,b)}}),Q=function(){if(L){var b=module.constructor.prototype;return function(c,d){if(/[^a-z0-9_\.]/i.test(c)&&".js"!=A.extname(c))return c=A.resolve(d,c),require(c);var e=b._compile,f=Z(c);b._compile=function(a,b){this.basis=p;a='var node_require = require;\nvar basis = module.basis;\nvar resource = function(filename){ return basis.resource(__dirname + "/" + filename) };\nvar require = function(filename, baseURI){ return basis.require(filename, baseURI || __dirname) };\n'+a;e.call(Y(this,f),a,b)};var g=require(__dirname+"/"+c.replace(/\./g,"/"));(f.exports=g)&&g.constructor===Object&&a(f,g);b._compile=e;return g}}return function(a,b){a=/[^a-z0-9_\.]/i.test(a)||".js"==A.extname(a)?A.resolve(b,a):w(a);return E(a).fetch()}}();a(Function.prototype,{bind:function(a){var b=this,c=T(arguments,1);return c.length?function(){return b.apply(a,c.concat.apply(c,arguments))}:function(){return b.apply(a,arguments)}}});a(Array,{isArray:function(a){return"[object Array]"===fa.call(a)}});a(Array.prototype,{indexOf:function(a,b){b=parseInt(b,10)||0;if(0>b)return-1;for(;b<this.length;b++)if(this[b]===a)return b;return-1},lastIndexOf:function(a,b){var c=this.length;b=parseInt(b,10);for(b=isNaN(b)||b>=c?c-1:(b+c)%c;0<=b;b--)if(this[b]===a)return b;return-1},forEach:function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)},every:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0},some:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1},filter:function(a,b){for(var c=[],d=0,e=this.length;d<e;d++)d in this&&a.call(b,this[d],d,this)&&c.push(this[d]);return c},map:function(a,b){for(var c=[],d=0,e=this.length;d<e;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c},reduce:function(a,b){var c=this.length,d=arguments.length;if(0==c&&1==d)throw 1;var e,f=0;1<d&&(e=b,f=1);for(d=0;d<c;d++)d in this&&(e=f++?a.call(null,e,this[d],d,this):this[d]);return e}});var e={flatten:function(a){return a.concat.apply([],a)},repeat:function(a,b){return e.flatten(ea(parseInt(b,10)||0,a))},search:function(a,b,c,d){a.lastSearchIndex=-1;c=X(c||na);d=parseInt(d,10)||0;for(var e=a.length;d<e;d++)if(c(a[d])===b)return a[a.lastSearchIndex=d]},lastSearch:function(a,b,c,d){a.lastSearchIndex=-1;c=X(c||na);var e=a.length;d=isNaN(d)||null==d?e:parseInt(d,10);for(e=d>e?e:d;0<e--;)if(c(a[e])===b)return a[a.lastSearchIndex=e]},add:function(a,b){return-1==a.indexOf(b)&&!!a.push(b)},remove:function(a,b){var c=a.indexOf(b);return-1!=c&&!!a.splice(c,1)},has:function(a,b){return-1!=a.indexOf(b)},sortAsObject:function(a,b,c,d){b=X(b);d=d?-1:1;return a.map(function(a,c){return{i:c,v:b(a)}}).sort(c||function(a,b){return d*(a.v>b.v||-(a.v<b.v)||(a.i>b.i?1:-1))}).map(function(b){return a[b.i]},a)}};U(Array,e);if(![1,2].splice(1).length){var B=Array.prototype.splice;Array.prototype.splice=function(){var a=T(arguments);2>a.length&&(a[1]=this.length);return B.apply(this,a)}}var H=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,M=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi;a(String,{toLowerCase:function(a){return String(a).toLowerCase()},toUpperCase:function(a){return String(a).toUpperCase()},trim:function(a){return String(a).trim()},trimLeft:function(a){return String(a).trimLeft()},trimRight:function(a){return String(a).trimRight()}});a(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});var f={toObject:function(a,b){try{return(new Function("return 0,"+a))()}catch(c){if(b)throw 2;}},repeat:function(a,b){return Array(parseInt(b,10)+1||0).join(a)},qw:function(a){return(a=a.trim())?a.split(/\s+/):[]},forRegExp:function(a){return a.replace(H,"\\$1")},format:function(a,b){var c=T(arguments,1);"object"==typeof b&&Y(c,b);return a.replace(M,function(a,b,d,e,f){a=b in c?c[b]:f?"":a;return d&&!isNaN(a)?(a=Number(a),"."==d?a.toFixed(e):n.lead(a,e)):a})},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},camelize:function(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},dasherize:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+
a.toLowerCase()})}};U(String,f);if(11!="|||".split(/\|/).length+"|||".split(/(\|)/).length){var c=String.prototype.split;String.prototype.split=function(a,b){if(!a||!1==a instanceof RegExp||""==a.source)return c.apply(this,arguments);var d=[],e=0,f;for(a.global||(a=RegExp(a.source,/\/([mi]*)$/.exec(a)[1]+"g"));f=a.exec(this);)f[0]=this.substring(e,f.index),d.push.apply(d,f),e=a.lastIndex;d.push(this.substr(e));return d}}if("2"!="12".substr(-1)){var C=String.prototype.substr;String.prototype.substr=function(a,b){return C.call(this,0>a?Math.max(0,this.length+a):a,b)}}var n={fit:function(a,b,c){return!isNaN(b)&&a<b?Number(b):!isNaN(c)&&a>c?Number(c):a},lead:function(a,b,c){return String(a).replace(/\d+/,function(a){return 1<(b-=a.length-1)?Array(b).join(c||0)+a:a})},group:function(a,b,c){return String(a).replace(/\d+/,function(a){return a.replace(/\d/g,function(d,e){return!e+(a.length-e)%(b||3)?d:(c||" ")+d})})},format:function(a,b,c,d,e,f){a=a.toFixed(b);if(c||f)a=a.replace(/(\d+)(\.?)/,function(a,b,d){return(c?p.number.group(Number(b),3,c):b)+(d?f||d:"")});d&&(a=a.replace(/^-?/,"$&"+(d||"")));return a+(e||"")}};U(Number,n);a(Date,{now:function(){return Number(new Date)}});var v=function(){function a(){if("complete"==x.readyState&&x.body&&!c++)for(;e;)e.callback.call(e.context),e=e.next}function b(){try{x.documentElement.doScroll("left"),a()}catch(c){setTimeout(b,1)}}var c=!x||"complete"==x.readyState&&!!x.body,e;if(!c)if(x.addEventListener)x.addEventListener("DOMContentLoaded",a,!1),d.addEventListener("load",a,!1);else{x.attachEvent("onreadystatechange",a);d.attachEvent("onload",a);try{!d.frameElement&&x.documentElement.doScroll&&b()}catch(f){}}return function(a,b){c?a.call(b):e={callback:a,context:b,next:e}}}(),u=function(){function a(b){if(x&&!g[b]&&(g[b]=x[b]||x.getElementsByTagName(b)[0],g[b])){var c=h[b];delete h[b];for(var d=0,e;e=c[d];d++)e[0].call(e[1],g[b])}return g[b]}function b(){var d=this[0],e=this[1],f=this[2];c(e);var g=a(d);g?(!0===f&&(f=g.firstChild),f&&f.parentNode===g||(f=null),g.insertBefore(e,f)):h[d].push([b,[d,e,f]])}function c(a){for(var b in h){var d=e.search(h[b],a,function(a){return a[1]&&a[1][1]});d&&e.remove(h[b],d)}a&&a.parentNode&&1==a.parentNode.nodeType&&a.parentNode.removeChild(a)}function d(){f&&a("head")&&a("body")&&(f=clearInterval(f))}var f,g={},h={head:[],body:[]};!x||a("head")&&a("body")||(f=setInterval(d,5),v(d));return{head:{ready:function(a,b){h.head?h.head.push([a,b]):a.call(b,g.head)},add:function(a,c){b.call(["head",a,c])}},body:{ready:function(a,b){h.body?h.body.push([a,b]):a.call(b,g.body)},add:function(a,c){b.call(["body",a,c])}},remove:c}}(),K=function(){function a(d){c.globalDestroy=!0;c.add=F;for(c.remove=F;d=b.pop();)if("function"==typeof d.destroy)try{d.destroy()}catch(e){}else for(var f in d)d[f]=null;b.length=0}var b=[];if("attachEvent"in d)d.attachEvent("onunload",a);else if("addEventListener"in d)d.addEventListener("unload",a,!1);else return{add:F,remove:F};var c={add:function(a){null!=a&&b.push(a)},remove:function(a){e.remove(b,a)}};return c}(),qa=function(){function a(b){h.setAttribute("href",b);u.head.add(h,!0)}function b(){h.setAttribute("href",location.href);u.remove(h)}function c(){a(this.baseURI);this.element||(this.element=x.createElement("style"),f||(this.textNode=this.element.appendChild(x.createTextNode(""))));u.head.add(this.element);this.syncCssText();b()}var d={},e=!0,f;try{f=!x.createElement("style").appendChild(x.createTextNode(""))}catch(g){f=!0}K.add({destroy:function(){e=!1;for(var a in d)d[a].destroy();d=null}});var h=x&&x.createElement("base"),l=q(null,{className:"basis.CssResource",inUse:0,url:"",baseURI:"",cssText:"",resource:null,element:null,textNode:null,init:function(a){this.url=A.resolve(a);this.baseURI=A.dirname(a)+"/";d[a]=this},updateCssText:function(c){this.cssText!=c&&(this.cssText=c,this.inUse&&this.element&&(a(this.baseURI),this.syncCssText(),b()))},syncCssText:function(){this.textNode?this.textNode.nodeValue=this.cssText:this.element.styleSheet.cssText=this.cssText},startUse:function(){if(!this.inUse){if(!this.resource){var a=E(this.url);this.resource=a;this.cssText=a.get(!0)}u.head.ready(c,this)}this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&u.remove(this.element))},destroy:function(){this.element&&e&&u.remove(this.element);this.cssText=this.resource=this.textNode=this.element=null}});l.resources=d;return l}(),p=Z("basis").extend({version:"1.2.0-dev",NODE_ENV:L,config:J,platformFeature:{},resolveNSFilename:w,patch:function(a,b){a=/[^a-z0-9_\.]/i.test(a)||".js"==A.extname(a)?A.resolve(a):w(a);N[a]?N[a].push(b):N[a]=[b];var c=E.get(a);c&&c.isResolved()&&b(c.get(),c.url)},namespace:Z,require:Q,resource:E,asset:function(a){return a},setImmediate:I,clearImmediate:aa,nextTick:function(){I.apply(null,arguments)},Class:q,Token:b,DeferredToken:g,getter:X,ready:v,cleaner:K,console:ga,path:A,doc:u,object:{extend:Y,complete:a,keys:t,values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},slice:ca,splice:function(a,b){var c={};if(!b)return Y(c,a);for(var d=0,e;e=b[d++];)e in a&&(c[e]=a[e],delete a[e]);return c},merge:la,iterate:ma},fn:{$undefined:function(a){return void 0==a},$defined:function(a){return void 0!=a},$isNull:function(a){return null==a||void 0==a},$isNotNull:function(a){return null!=a&&void 0!=a},$isSame:function(a){return a===this},$isNotSame:function(a){return a!==this},$self:na,$const:function(a){return function(){return a}},$false:function(){return!1},$true:function(){return!0},$null:function(){return null},$undef:F,getter:X,nullGetter:W,wrapper:function(a){return function(b){var c={};c[a]=b;return c}},lazyInit:function(a,b){var c=0,d,e;return d=function(){c++||(d.inited=!0,d.data=e=a.apply(b||this,arguments));return e}},lazyInitAndRun:function(a,b,c){var d=0,e,f;return e=function(){d++||(e.inited=!0,e.data=f=a.call(c||this));b.apply(f,arguments);return f}},runOnce:function(a,b){var c=0;return function(){if(!c++)return a.apply(b||this,arguments)}}},array:Y(T,la(e,{from:T,create:ea})),string:la(f,{isEmpty:function(a){return null==a||""==String(a)},isNotEmpty:function(a){return null!=a&&""!=String(a)}}),number:n,bool:{invert:function(a){return!a}},json:{parse:"undefined"!=typeof JSON?JSON.parse:function(a){return f.toObject(a,!0)}}});Z("basis.dev").extend(ga);J.autoload&&Q(J.autoload)})(this)}).call(this)